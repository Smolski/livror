---
title: "Análise de redes sociais virtuais: o caso do banco Banrisul"
author: "Felipe"
date: "16 de junho de 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introdução

# Desenvolvimento

# Metodologia

# Resultados

```{r,echo=FALSE,message=FALSE, results='asis',warning=FALSE}
library(Rfacebook)


token='EAACEdEose0cBAOswZCD7wWSMppzISmJn5szMKTXsjLhFvNDCrYAFJp5FJdRdaoqD6WniRXR2r3yan8Ik2ZB03SlMH74xICDvRuUdbmZBn5VJEOOGUtEn9TWvv5DpuuwD3PaxzLWktYZCrU98On35brF1id0mutUb5l8iofH36BMfJaNa7xrXKeyvQ2lEsfB4GcU5l3QaVwZDZD'

me=getUsers("me",token,private_info = T)
#page <- getPage("banrisul", token, n = 10000)
#post_reaction=getReactions(post=page$id[1],token,api="v2.8")
page2017 <- getPage("banrisul", token, n = 10000,reactions = TRUE,since = "2017-01-01",until = "2017-12-31")

library(lubridate)
#Criar campo com as datas
page2017$data=as_date(page2017$created_time)
```

```{r,echo=FALSE,message=FALSE, results='asis',warning=FALSE}
library(kableExtra)
library(plyr)
tot=ddply(page2017,c("type"),summarise,
      likes=sum(likes_count),
      comments=sum(comments_count),
      shares=sum(shares_count),
      love=sum(love_count),
      haha=sum(haha_count),
      wow=sum(wow_count),
      sad=sum(sad_count))

tot1=data.frame(Total=c(rowSums(tot[1,2:8]),
                        rowSums(tot[2,2:8]),
                        rowSums(tot[3,2:8])))

tot=cbind(tot,tot1)

tot2=data.frame(type=c("Total"),
                likes=c(colSums(tot[2])),
                comments=colSums(tot[3]),
                shares=colSums(tot[4]),
                love=colSums(tot[5]),
                haha=colSums(tot[6]),
                wow=colSums(tot[7]),
                sad=colSums(tot[8]),
                Total=colSums(tot[9]))

tot=rbind(tot,tot2)

kable(tot,format = "html", format.args = list(big.mark="."),row.names = FALSE) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```



```{r,echo=FALSE,message=FALSE, results='asis',warning=FALSE}
library(kableExtra)
library(plyr)
desc=ddply(page2017,c("data"),summarise,
      likes=sum(likes_count),
      comments=sum(comments_count),
      shares=sum(shares_count),
      love=sum(love_count),
      haha=sum(haha_count),
      wow=sum(wow_count),
      sad=sum(sad_count))

kable(desc,format = "html", format.args = list(big.mark=".")) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```


# Conclusão

# Referências 
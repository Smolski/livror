<!DOCTYPE html>
<html  lang="pt-Br">

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capítulo 1 Primeiros Passos com o R | Software R: Análise estatística de dados utilizando um programa livre</title>
  <meta name="description" content="Curso de análise estatística com R da UFFS Cerro Largo - RS">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capítulo 1 Primeiros Passos com o R | Software R: Análise estatística de dados utilizando um programa livre" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://rstub.github.io/bookdown-chapterbib/" />
  
  <meta property="og:description" content="Curso de análise estatística com R da UFFS Cerro Largo - RS" />
  <meta name="github-repo" content="rstub/bookdown-chapterbib" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 1 Primeiros Passos com o R | Software R: Análise estatística de dados utilizando um programa livre" />
  
  <meta name="twitter:description" content="Curso de análise estatística com R da UFFS Cerro Largo - RS" />
  

<meta name="author" content="Iara Denise Endruweit Battisti">
<meta name="author" content="Felipe Micail da Silva Smolski">


<meta name="date" content="2019-03-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="desc.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112034801-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-112034801-4');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">UFFS - Cerro Largo</a></li>
<img src="logo1.png" alt="R" align="midle">

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Apresentação</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Primeiros Passos com o R</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#download-e-instalacao-do-r-e-rstudio"><i class="fa fa-check"></i><b>1.1</b> Download e instalação do R e Rstudio</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#paineis"><i class="fa fa-check"></i><b>1.2</b> Painéis</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#help"><i class="fa fa-check"></i><b>1.3</b> Help</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#instalacao-de-pacotes"><i class="fa fa-check"></i><b>1.4</b> Instalação de pacotes</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#abrir-arquivo-de-dados"><i class="fa fa-check"></i><b>1.5</b> Abrir arquivo de dados</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#salvar-arquivo-de-dados"><i class="fa fa-check"></i><b>1.6</b> Salvar arquivo de dados</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#diretorios-de-trabalho"><i class="fa fa-check"></i><b>1.7</b> Diretórios de trabalho</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#bases-de-dados-nativas-do-r-e-de-pacotes"><i class="fa fa-check"></i><b>1.8</b> Bases de dados nativas do R e de pacotes</a></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#operacoes"><i class="fa fa-check"></i><b>1.9</b> Operações</a><ul>
<li class="chapter" data-level="1.9.1" data-path="intro.html"><a href="intro.html#operacoes-aritmeticas"><i class="fa fa-check"></i><b>1.9.1</b> Operações Aritméticas</a></li>
<li class="chapter" data-level="1.9.2" data-path="intro.html"><a href="intro.html#operacoes-logicas"><i class="fa fa-check"></i><b>1.9.2</b> Operações Lógicas</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="intro.html"><a href="intro.html#criacao-de-objetos"><i class="fa fa-check"></i><b>1.10</b> Criação de objetos</a></li>
<li class="chapter" data-level="1.11" data-path="intro.html"><a href="intro.html#algumas-funcoes-e-comandos-essenciais"><i class="fa fa-check"></i><b>1.11</b> Algumas funções e comandos essenciais</a><ul>
<li class="chapter" data-level="1.11.1" data-path="intro.html"><a href="intro.html#funcoes-view-e-dim"><i class="fa fa-check"></i><b>1.11.1</b> Funções <em>View</em> e <em>dim</em></a></li>
<li class="chapter" data-level="1.11.2" data-path="intro.html"><a href="intro.html#funcao-tapply"><i class="fa fa-check"></i><b>1.11.2</b> Função <em>tapply</em></a></li>
<li class="chapter" data-level="1.11.3" data-path="intro.html"><a href="intro.html#funcao-subset"><i class="fa fa-check"></i><b>1.11.3</b> Função <em>subset</em></a></li>
<li class="chapter" data-level="1.11.4" data-path="intro.html"><a href="intro.html#funcao-table"><i class="fa fa-check"></i><b>1.11.4</b> Função <em>table</em></a></li>
</ul></li>
<li class="chapter" data-level="1.12" data-path="intro.html"><a href="intro.html#estrutura-de-dados"><i class="fa fa-check"></i><b>1.12</b> Estrutura de dados</a><ul>
<li class="chapter" data-level="1.12.1" data-path="intro.html"><a href="intro.html#vetores"><i class="fa fa-check"></i><b>1.12.1</b> Vetores</a></li>
<li class="chapter" data-level="1.12.2" data-path="intro.html"><a href="intro.html#matrizes"><i class="fa fa-check"></i><b>1.12.2</b> Matrizes</a></li>
<li class="chapter" data-level="1.12.3" data-path="intro.html"><a href="intro.html#listas"><i class="fa fa-check"></i><b>1.12.3</b> Listas</a></li>
<li class="chapter" data-level="1.12.4" data-path="intro.html"><a href="intro.html#data-frames"><i class="fa fa-check"></i><b>1.12.4</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="1.13" data-path="intro.html"><a href="intro.html#manipulacao-de-banco-de-dados"><i class="fa fa-check"></i><b>1.13</b> Manipulação de banco de dados</a><ul>
<li class="chapter" data-level="1.13.1" data-path="intro.html"><a href="intro.html#o-pacote-tidyr"><i class="fa fa-check"></i><b>1.13.1</b> O pacote <em>tidyr</em></a></li>
<li class="chapter" data-level="1.13.2" data-path="intro.html"><a href="intro.html#o-pacote-dplyr"><i class="fa fa-check"></i><b>1.13.2</b> O pacote <em>dplyr</em></a></li>
</ul></li>
<li class="chapter" data-level="1.14" data-path="intro.html"><a href="intro.html#funcoes-matematicas"><i class="fa fa-check"></i><b>1.14</b> Funções Matemáticas</a></li>
<li class="chapter" data-level="1.15" data-path="intro.html"><a href="intro.html#conversao-e-manipulacao-de-datas"><i class="fa fa-check"></i><b>1.15</b> Conversão e manipulação de datas</a><ul>
<li class="chapter" data-level="1.15.1" data-path="intro.html"><a href="intro.html#o-pacote-lubridate"><i class="fa fa-check"></i><b>1.15.1</b> O pacote <em>lubridate</em></a></li>
</ul></li>
<li class="chapter" data-level="1.16" data-path="intro.html"><a href="intro.html#exercicios"><i class="fa fa-check"></i><b>1.16</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="desc.html"><a href="desc.html"><i class="fa fa-check"></i><b>2</b> Estatística Descritiva</a><ul>
<li class="chapter" data-level="2.1" data-path="desc.html"><a href="desc.html#natureza-da-medida-das-variaveis"><i class="fa fa-check"></i><b>2.1</b> Natureza da medida das variáveis</a></li>
<li class="chapter" data-level="2.2" data-path="desc.html"><a href="desc.html#tabelas"><i class="fa fa-check"></i><b>2.2</b> Tabelas</a><ul>
<li class="chapter" data-level="2.2.1" data-path="desc.html"><a href="desc.html#tabela-simples-para-apresentacao-das-frequencias-absolutas"><i class="fa fa-check"></i><b>2.2.1</b> Tabela simples para apresentação das frequências absolutas</a></li>
<li class="chapter" data-level="2.2.2" data-path="desc.html"><a href="desc.html#tabela-cruzada"><i class="fa fa-check"></i><b>2.2.2</b> Tabela cruzada</a></li>
<li class="chapter" data-level="2.2.3" data-path="desc.html"><a href="desc.html#tabela-cruzada-para-apresentacao-das-frequencias-relativas"><i class="fa fa-check"></i><b>2.2.3</b> Tabela cruzada para apresentação das frequências relativas</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="desc.html"><a href="desc.html#graficos"><i class="fa fa-check"></i><b>2.3</b> Gráficos</a><ul>
<li class="chapter" data-level="2.3.1" data-path="desc.html"><a href="desc.html#grafico-de-colunas"><i class="fa fa-check"></i><b>2.3.1</b> Gráfico de colunas</a></li>
<li class="chapter" data-level="2.3.2" data-path="desc.html"><a href="desc.html#setograma-ou-grafico-de-pizza"><i class="fa fa-check"></i><b>2.3.2</b> Setograma ou gráfico de pizza</a></li>
<li class="chapter" data-level="2.3.3" data-path="desc.html"><a href="desc.html#histograma"><i class="fa fa-check"></i><b>2.3.3</b> Histograma</a></li>
<li class="chapter" data-level="2.3.4" data-path="desc.html"><a href="desc.html#boxplot-ou-diagrama-em-caixas"><i class="fa fa-check"></i><b>2.3.4</b> Boxplot ou diagrama em caixas</a></li>
<li class="chapter" data-level="2.3.5" data-path="desc.html"><a href="desc.html#grafico-ramo-e-folhas"><i class="fa fa-check"></i><b>2.3.5</b> Gráfico ramo-e-folhas</a></li>
<li class="chapter" data-level="2.3.6" data-path="desc.html"><a href="desc.html#graficos-de-dispersao"><i class="fa fa-check"></i><b>2.3.6</b> Gráficos de dispersão</a></li>
<li class="chapter" data-level="2.3.7" data-path="desc.html"><a href="desc.html#grafico-de-linhas"><i class="fa fa-check"></i><b>2.3.7</b> Gráfico de linhas</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="desc.html"><a href="desc.html#estatisticas-descritivas"><i class="fa fa-check"></i><b>2.4</b> Estatísticas Descritivas</a></li>
<li class="chapter" data-level="2.5" data-path="desc.html"><a href="desc.html#exercicios-1"><i class="fa fa-check"></i><b>2.5</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="inf.html"><a href="inf.html"><i class="fa fa-check"></i><b>3</b> Estatística Inferencial</a><ul>
<li class="chapter" data-level="3.1" data-path="inf.html"><a href="inf.html#intervalo-de-confianca"><i class="fa fa-check"></i><b>3.1</b> Intervalo de Confiança</a><ul>
<li class="chapter" data-level="3.1.1" data-path="inf.html"><a href="inf.html#intervalo-de-confianca-para-uma-media-populacional"><i class="fa fa-check"></i><b>3.1.1</b> Intervalo de confiança para uma média populacional</a></li>
<li class="chapter" data-level="3.1.2" data-path="inf.html"><a href="inf.html#para-verificar-normalidade-dos-dados"><i class="fa fa-check"></i><b>3.1.2</b> Para verificar normalidade dos dados</a></li>
<li class="chapter" data-level="3.1.3" data-path="inf.html"><a href="inf.html#intervalo-de-confianca-para-uma-proporcao-populacional"><i class="fa fa-check"></i><b>3.1.3</b> Intervalo de confiança para uma proporção populacional</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="inf.html"><a href="inf.html#teste-de-hipoteses"><i class="fa fa-check"></i><b>3.2</b> Teste de hipóteses</a><ul>
<li class="chapter" data-level="3.2.1" data-path="inf.html"><a href="inf.html#teste-de-hipoteses-para-uma-media-populacional"><i class="fa fa-check"></i><b>3.2.1</b> Teste de hipóteses para uma média populacional</a></li>
<li class="chapter" data-level="3.2.2" data-path="inf.html"><a href="inf.html#teste-de-hipoteses-para-uma-proporcao-populacional"><i class="fa fa-check"></i><b>3.2.2</b> Teste de hipóteses para uma proporção populacional</a></li>
<li class="chapter" data-level="3.2.3" data-path="inf.html"><a href="inf.html#teste-de-hipotese-para-duas-medias"><i class="fa fa-check"></i><b>3.2.3</b> Teste de hipótese para duas médias</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="inf.html"><a href="inf.html#exercicios-2"><i class="fa fa-check"></i><b>3.3</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="qui.html"><a href="qui.html"><i class="fa fa-check"></i><b>4</b> Teste de Qui-Quadrado</a><ul>
<li class="chapter" data-level="4.1" data-path="qui.html"><a href="qui.html#teste-de-qui-quadrado-para-verificar-associacao-entre-duas-variaveis-qualitativas"><i class="fa fa-check"></i><b>4.1</b> Teste de qui-quadrado para verificar associação entre duas variáveis qualitativas</a></li>
<li class="chapter" data-level="4.2" data-path="qui.html"><a href="qui.html#check-list-para-escolher-o-teste-adequado-para-verificar-a-relacao-entre-duas-variaveis-qualitativas"><i class="fa fa-check"></i><b>4.2</b> Check list para escolher o teste adequado para verificar a relação entre duas variáveis qualitativas</a></li>
<li class="chapter" data-level="4.3" data-path="qui.html"><a href="qui.html#exemplo-utilizando-os-recursos-do-software-r"><i class="fa fa-check"></i><b>4.3</b> Exemplo utilizando os recursos do software R</a></li>
<li class="chapter" data-level="4.4" data-path="qui.html"><a href="qui.html#teste-de-associacao-com-duas-amostras-dependentes"><i class="fa fa-check"></i><b>4.4</b> Teste de associação com duas amostras dependentes</a></li>
<li class="chapter" data-level="4.5" data-path="qui.html"><a href="qui.html#teste-de-qui-quadrado-para-verificar-aderencia-a-uma-distribuicao"><i class="fa fa-check"></i><b>4.5</b> Teste de qui-quadrado para verificar aderência a uma distribuição</a></li>
<li class="chapter" data-level="4.6" data-path="qui.html"><a href="qui.html#exercicios-3"><i class="fa fa-check"></i><b>4.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reg.html"><a href="reg.html"><i class="fa fa-check"></i><b>5</b> Modelos de Regressão</a><ul>
<li class="chapter" data-level="5.1" data-path="reg.html"><a href="reg.html#correlacao-linear"><i class="fa fa-check"></i><b>5.1</b> Correlação linear</a></li>
<li class="chapter" data-level="5.2" data-path="reg.html"><a href="reg.html#diagrama-de-dispersao"><i class="fa fa-check"></i><b>5.2</b> Diagrama de dispersão</a></li>
<li class="chapter" data-level="5.3" data-path="reg.html"><a href="reg.html#coeficiente-de-correlacao-linear-de-pearson"><i class="fa fa-check"></i><b>5.3</b> Coeficiente de Correlação Linear de Pearson</a></li>
<li class="chapter" data-level="5.4" data-path="reg.html"><a href="reg.html#modelo-de-regressao"><i class="fa fa-check"></i><b>5.4</b> Modelo de Regressão</a></li>
<li class="chapter" data-level="5.5" data-path="reg.html"><a href="reg.html#modelo-de-regressao-linear-simples"><i class="fa fa-check"></i><b>5.5</b> Modelo de Regressão Linear Simples</a></li>
<li class="chapter" data-level="5.6" data-path="reg.html"><a href="reg.html#metodo-dos-minimos-quadrados"><i class="fa fa-check"></i><b>5.6</b> Método dos Mínimos Quadrados</a></li>
<li class="chapter" data-level="5.7" data-path="reg.html"><a href="reg.html#analise-de-variancia"><i class="fa fa-check"></i><b>5.7</b> Análise de Variância</a></li>
<li class="chapter" data-level="5.8" data-path="reg.html"><a href="reg.html#coeficiente-de-determinacao"><i class="fa fa-check"></i><b>5.8</b> Coeficiente de Determinação</a></li>
<li class="chapter" data-level="5.9" data-path="reg.html"><a href="reg.html#analise-dos-residuos"><i class="fa fa-check"></i><b>5.9</b> Análise dos Resíduos</a><ul>
<li class="chapter" data-level="5.9.1" data-path="reg.html"><a href="reg.html#valores-outliers-na-regressao"><i class="fa fa-check"></i><b>5.9.1</b> Valores outliers na regressão</a></li>
<li class="chapter" data-level="5.9.2" data-path="reg.html"><a href="reg.html#valores-influentes-na-regressao"><i class="fa fa-check"></i><b>5.9.2</b> Valores influentes na regressão</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="reg.html"><a href="reg.html#intervalo-de-predicao"><i class="fa fa-check"></i><b>5.10</b> Intervalo de Predição</a></li>
<li class="chapter" data-level="5.11" data-path="reg.html"><a href="reg.html#exercicios-4"><i class="fa fa-check"></i><b>5.11</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rmark.html"><a href="rmark.html"><i class="fa fa-check"></i><b>6</b> RMarkdown</a><ul>
<li class="chapter" data-level="6.1" data-path="rmark.html"><a href="rmark.html#criando-o-documento"><i class="fa fa-check"></i><b>6.1</b> Criando o documento</a></li>
<li class="chapter" data-level="6.2" data-path="rmark.html"><a href="rmark.html#compilando-os-resultados-do-arquivo"><i class="fa fa-check"></i><b>6.2</b> Compilando os resultados do arquivo</a></li>
<li class="chapter" data-level="6.3" data-path="rmark.html"><a href="rmark.html#elementos-basicos-do-rmarkdown"><i class="fa fa-check"></i><b>6.3</b> Elementos básicos do RMarkdown</a></li>
<li class="chapter" data-level="6.4" data-path="rmark.html"><a href="rmark.html#elementos-basicos-de-formatacao"><i class="fa fa-check"></i><b>6.4</b> Elementos básicos de formatação</a></li>
<li class="chapter" data-level="6.5" data-path="rmark.html"><a href="rmark.html#elementos-basicos-do-yaml"><i class="fa fa-check"></i><b>6.5</b> Elementos básicos do YAML</a></li>
<li class="chapter" data-level="6.6" data-path="rmark.html"><a href="rmark.html#elementos-basicos-dos-chunks"><i class="fa fa-check"></i><b>6.6</b> Elementos básicos dos Chunks</a><ul>
<li class="chapter" data-level="6.6.1" data-path="rmark.html"><a href="rmark.html#inserindo-tabelas-com-as-chunks"><i class="fa fa-check"></i><b>6.6.1</b> Inserindo tabelas com as Chunks</a></li>
<li class="chapter" data-level="6.6.2" data-path="rmark.html"><a href="rmark.html#inserindo-imagens-com-as-chunks"><i class="fa fa-check"></i><b>6.6.2</b> Inserindo imagens com as Chunks</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="rmark.html"><a href="rmark.html#criacao-de-modelos-para-formatacao-vinculada"><i class="fa fa-check"></i><b>6.7</b> Criação de modelos para formatação vinculada</a><ul>
<li class="chapter" data-level="6.7.1" data-path="rmark.html"><a href="rmark.html#primeiro-passo-criacao-de-um-documento-modelo"><i class="fa fa-check"></i><b>6.7.1</b> Primeiro passo: criação de um documento modelo</a></li>
<li class="chapter" data-level="6.7.2" data-path="rmark.html"><a href="rmark.html#segundo-passo-formatacao-do-modelo"><i class="fa fa-check"></i><b>6.7.2</b> Segundo passo: formatação do modelo</a></li>
<li class="chapter" data-level="6.7.3" data-path="rmark.html"><a href="rmark.html#terceiro-passo-vinculacao-do-modelo-ao-arquivo-em-rmarkdown"><i class="fa fa-check"></i><b>6.7.3</b> Terceiro passo: vinculação do modelo ao arquivo em RMarkdown</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="rmark.html"><a href="rmark.html#citacoes-e-bibliografias"><i class="fa fa-check"></i><b>6.8</b> Citações e bibliografias</a></li>
<li class="chapter" data-level="6.9" data-path="rmark.html"><a href="rmark.html#exercicios-5"><i class="fa fa-check"></i><b>6.9</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sobre-os-autores.html"><a href="sobre-os-autores.html"><i class="fa fa-check"></i>Sobre os autores</a></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Software R: Análise estatística de dados utilizando um programa livre</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Capítulo 1</span> Primeiros Passos com o R</h1>
<p><em>Felipe Micail da Silva Smolski</em></p>
<p><em>Djaina Sibiani Rieger</em></p>

<p>O R é um ambiente voltado para análise de dados com o uso de uma linguagem de programação, frente a isso um conhecimento prévio dos princípios de programação facilita a compreensão da condução das análises aplicadas no software. Entretanto, não é pré-requisito. Neste capítulo serão abordados os primeiros passos para o emprego da linguagem de programação R utilizando uma interface “amigável” - o software RStudio. Além disso, serão apresentados os comandos básicos para a manipulação de dados dentro do RStudio.</p>
<div id="download-e-instalacao-do-r-e-rstudio" class="section level2">
<h2><span class="header-section-number">1.1</span> Download e instalação do R e Rstudio</h2>
<p><strong>R</strong>: <a href="http://www.r-project.org" class="uri">http://www.r-project.org</a>. Clique em Download (CRAN) - escolha o link de um repositório - clique no link do sistema operacional (Linux, Mac ou Windows) - clique em <em>install R for de first time - Download</em> <span class="citation">(R Core Team <a href="#ref-rcore">2019</a>)</span>.</p>
<p><strong>RStudio</strong>: <a href="http://www.rstudio.com/products/rstudio/download" class="uri">http://www.rstudio.com/products/rstudio/download</a>. Em RStudio Desktop, escolha a versão <em>free</em>, seguidas da opção do sistema operacional do usuário <span class="citation">(RStudio Team <a href="#ref-teamrstudio">2019</a>)</span>.</p>
<p>Lembrando que:</p>
<ul>
<li>R é o software;</li>
<li>RStudio é uma ferramenta amigável para o R.</li>
</ul>
</div>
<div id="paineis" class="section level2">
<h2><span class="header-section-number">1.2</span> Painéis</h2>
<p>O RStudio é a interface que faz com que seja mais fácil a utilização da programação em R.</p>
<div class="figure" style="text-align: center"><span id="fig:paineis1"></span>
<img src="paineis.png" alt="Painéis do Rstudio" width="70%" />
<p class="caption">
Figura 1.1: Painéis do Rstudio
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es).</p>
<ul>
<li><strong>Fonte/Editor de Scripts</strong>: se constitui do ambiente onde serão abertos os scripts previamente salvos nos mais diversos formatos ou mesmo sendo o local de visualização das bases de dados.</li>
<li><strong>Console</strong>: local onde será efetuada a digitação das linhas de código que serão interpretadas pelo R.</li>
<li><strong>Ambiente e Histórico</strong>: o ambiente será visualizado os objetos criados ou carregados durante a seção e; a aba History retoma os scripts digitados no console.</li>
<li><strong>Plots/arquivos/Pacotes</strong>: local onde podem ser acessados os arquivos salvos no computador pela aba <em>files</em>; a aba <em>Plots</em> carrega os gráficos e plotagens; a aba <em>Packages</em> contém os pacotes instalados em seu computador, onde são ativados ou instalados novos; em <em>Help</em> constam as ajudas e explicações dos pacotes e; <em>Viewer</em> visualiza documentos do tipo html.</li>
</ul>
</div>
<div id="help" class="section level2">
<h2><span class="header-section-number">1.3</span> Help</h2>
<p>A ajuda do RStudio é acessada por meio do comando <code>help()</code>, através da aba “Help” ou ao clicar no nome do pacote. Pode-se digitar a ajuda que usuário necessita (exemplo <code>help("summary")</code>), ou diretamente no console digita-se ? e a função desejada, exemplo: <code>?mean</code>.</p>
</div>
<div id="instalacao-de-pacotes" class="section level2">
<h2><span class="header-section-number">1.4</span> Instalação de pacotes</h2>
<p>Em alguns situações, o uso de pacotes pode dar ao trabalho mais praticidade, e para isso se faz necessário efetuar a sua instalação. É preciso ir até o painel dos pacotes em <em>packages</em>, selecionar a opção instalar e inserir o nome do pacote desejado na janela indicada. Ao selecionar a opção instalar, no console são demonstradas informações do procedimento e do sucesso do mesmo.</p>
<div class="figure" style="text-align: center"><span id="fig:pacotes1"></span>
<img src="pacotes1.png" alt="Instalação de pacotes" width="70%" />
<p class="caption">
Figura 1.2: Instalação de pacotes
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es).</p>
<div class="figure" style="text-align: center"><span id="fig:pacotes2"></span>
<img src="pacotes2.png" alt="Caixa de informação de pacote a ser instalado" width="70%" />
<p class="caption">
Figura 1.3: Caixa de informação de pacote a ser instalado
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es)</p>
<p>A mesma função, para instalação de um pacote, pode ser efetuada diretamente via console: <code>install.packages("pacote")</code>. É importante ressaltar a função <code>library(nomedopacote)</code> que é utilizada no console para informar ao R e “carregar” o pacote que o usuário irá utilizar. Podem ser instalados mais de um pacote ao mesmo tempo, como no exemplo:</p>
<p><code>install.packages(c("readr", "readxl"))</code></p>
</div>
<div id="abrir-arquivo-de-dados" class="section level2">
<h2><span class="header-section-number">1.5</span> Abrir arquivo de dados</h2>
<p>Dispondo de um banco de dados em uma planilha eletrônica (LibreOffice Calc ou Excel), neste caso será utilizado o arquivo <a href="https://github.com/Smolski/livror/raw/master/arvores.xlsx">árvores</a> como exemplo de banco de dados. Os dados derivam de uma pesquisa com espécies de árvores registrando as variáveis diâmetro altura do peito (DAP) e altura. Dados cedidos pela professora Tatiane Chassot.</p>
<p>Pode-se utilizar a linha de comando para carregar os arquivos de dados, da seguinte forma:</p>
<p><code>library(readxl)</code></p>
<p><code>nome.objeto.xls = read_excel("d:/arvores.xls")</code></p>
<p>Outras opções de arquivos podem ser carregados no RStudio, como por exemplo arquivos de texto (.txt ou .csv), arquivos derivados do excel (.xls ou .xlsx), arquivos de dados do SPSS (.sav), do <em>software</em> SAS (.sas7bdat) e do STATA (.dta). A instalação de alguns pacotes é requerida, dependendo da origem da base de dados, como por exemplo o <code>readxl</code>, <code>readr</code> e <code>haven</code>, como os exemplos abaixo:</p>
<p><code>library(readr)</code></p>
<p><code>nomeobjeto = read.csv("d:/arvores.csv")</code></p>
<p><code>library(haven)</code></p>
<p><code>nomeobjeto = read_sav("d:/arvores.sav")</code></p>
<p><code>nomeobjeto = read_dta("d:/arvores.dta")</code></p>
<p><code>nomeobjeto = read_sas("d:/arvores.sas7bdat")</code></p>
<p>Outras opções podem ser comandadas dentro destes comando para abertura de arquivos, como por exemplo, um arquivo csv em que esteja separado por vírgulas pode ser lido como:</p>
<p><code>read.csv("d:/arvores.csv", sep=",")</code></p>
<p>O comando <code>header=TRUE</code> diz que a primeira linha do arquivo contém o cabeçalho; <code>skip=4</code> faz com que sejam ignoradas as 4 primeiras linhas.</p>
<p>A função <code>load()</code> (exemplo: <code>load("base.RData")</code>) pode ser utilizada para carregar as bases de dados salvas com a função <code>save()</code>, que será descrita no subcapítulo a seguir.</p>
<p>Outra opção é o carregamento das bases de dados manualmente pelo caminho <em>Envoirment <span class="math inline">\(&gt;\)</span> Import Dataset</em>, escolhendo o tipo de arquivo:</p>
<div class="figure" style="text-align: center"><span id="fig:r3"></span>
<img src="r3.png" alt="Aba Import Dataset" width="70%" />
<p class="caption">
Figura 1.4: Aba Import Dataset
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es).</p>
<p>Na caixa correspondente a File/Url se insere o endereço virtual ou o local onde se encontra o arquivo. Ao importar os dados, carrega-se um objeto criado com as informações contidas no arquivo. Neste exemplo, é carregada a planilha <code>arvores</code> (arquivo .xls) como mostra a Figura <a href="intro.html#fig:r4">1.5</a>, derivado do caminho “Import Dataset <span class="math inline">\(&gt;\)</span> From Excel” do Environment.</p>
<div class="figure" style="text-align: center"><span id="fig:r4"></span>
<img src="r4.png" alt="Caixa de informações do Import Data" width="70%" />
<p class="caption">
Figura 1.5: Caixa de informações do Import Data
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es).</p>
<p>O campo <em>Code Preview</em> mostra o comando que está sendo criado para a importação destes dados. Em <em>Import Options</em>, delimita-se opções do objeto como o nome (<em>name</em>), o número máximo de linhas (<em>Max Rows</em>), quantas linhas serão puladas na importação do arquivo (<em>Skip</em>), o tratamento das células em branco (<em>NA</em>) e se a primeira linha contém os nomes (<em>Firts Row as Names</em>).</p>
<p>Com relação à importação de arquivos de texto separado por caracteres (.csv), ela se dá via “Import Dataset <span class="math inline">\(&gt;\)</span> From Text (readr)” do Environment. Constam algumas solicitações diferentes a serem determinadas pelo usuário no campo <em>Import Options</em>, conforme mostra a Figura <a href="intro.html#fig:r4csv">1.6</a>. Uma questão importante é a opção <em>Delimiter</em>, a qual o pesquisador tem que prestar atenção quando o arquivo está separado por vírgulas (<em>Comma</em>), ponto e vírgula (<em>Semicolon</em>) ou outro tipo de caractere. A opção <em>Locale <span class="math inline">\(&gt;\)</span> Configure…</em> oportuniza determinar os tipos de marca decimal e codificação de textos, por exemplo.</p>
<div class="figure" style="text-align: center"><span id="fig:r4csv"></span>
<img src="r4csv.png" alt="Opções da importação de arquivos .csv" width="70%" />
<p class="caption">
Figura 1.6: Opções da importação de arquivos .csv
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es)</p>
<p>Importante mencionar que em ambos os casos de importação, no campo <em>Dada Preview</em> onde constam os dados do arquivo a ser importado, é possível determinar o tipo de dado que cada “coluna” contém. Isto é extremamente importante, pois campos que possuem números, que serão posteriormente utilizados em operações aritméticas, por exemplo, devem ser configurados como tal. No entanto, como será visto adiante, a alteração do tipo do dado também pode ser feita posteriormente sem problema algum.</p>
<p>Alguns tipos de dados:</p>
<ul>
<li><strong>Numeric</strong>: números, valores decimais em geral (<code>5.4</code>).</li>
<li><strong>Integer</strong>: números (<code>4</code>).</li>
<li><strong>Character</strong>: variável de texto, ou <em>string</em> (<code>casa</code>).</li>
<li><strong>Double</strong>: cria um vetor de precisão dupla, que abarca os números.</li>
<li><strong>Logical</strong>: operadores booleanos (<code>TRUE, FALSE</code>).</li>
<li><strong>Date</strong>: opção para datas.</li>
<li><strong>Time</strong>: vetor para séries de tempo.</li>
<li><strong>Factor</strong>: variável nominal, inclusive como fator ordenado, representam categorias.</li>
</ul>
<p>Ainda, é possível importar objetos utilizando arquivos hospedados em links da internet, por exemplo o comando <code>source("http://www.openintro.org/stat/data/cdc.R")</code> utiliza a função <code>source()</code> para carregar um objeto do R denominado cdc (“cdc.R”).</p>
</div>
<div id="salvar-arquivo-de-dados" class="section level2">
<h2><span class="header-section-number">1.6</span> Salvar arquivo de dados</h2>
<p>O banco de dados que o R armazena na memória pode ser salvo, junto com todo o ambiente, usando o ícone de disquete na aba “Environment” (salva como arquivo .RData), e depois carregado pelo ícone de pasta (Abrir dados…) na mesma aba. Desta forma, salvará todos os objetos criados no ambiente de trabalho.</p>
<div class="figure" style="text-align: center"><span id="fig:r6"></span>
<img src="r6.PNG" alt="Atalho para abrir e salvar arquivo de dados" width="70%" />
<p class="caption">
Figura 1.7: Atalho para abrir e salvar arquivo de dados
</p>
</div>
<p>Fonte: Elaborado pelo(s) autor(es)</p>
<p>Outra opção com mesmo efeito é utilizar o comando a seguir diretamente no console do RStudio:</p>
<p><code>save("nomeDoObjeto",file="nomeDoArquivo.RData")</code></p>
<p>O nome do objeto pode ser uma lista de objetos para salvar mais de um objeto do ambiente, <code>list=("objeto1", "objeto2")</code>. Para carregar um arquivo RData no ambiente, o comando a ser utilizado pelo usuário é</p>
<p><code>load("arquivo.RData")</code>,</p>
<p>desde que o arquivo esteja no diretório de trabalho do R.</p>
<p>É possível exportar as bases trabalhadas para vários formatos de arquivos de dados e de texto, como seguem alguns exemplos:</p>
<ul>
<li><code>write.csv(nomeobjeto,"file.csv", sep=";")</code>: salvando em arquivo csv.</li>
<li><code>write.foreign(nomeobjeto,"d:/nome.sps")</code>: arquivos sps.</li>
<li><code>write.foreign(nomeobjeto,"d:/nome.dta")</code>: arquivos dta.</li>
<li><code>write.foreign(nomeobjeto,"d:/nome.sas7bdat")</code>: arquivos sas7bdat.</li>
</ul>
</div>
<div id="diretorios-de-trabalho" class="section level2">
<h2><span class="header-section-number">1.7</span> Diretórios de trabalho</h2>
<p>Os trabalhos efetudados via Rstudio, incluindo as bases de dados, os objetos, os resultados das fórmulas, os cálculos aplicados sobre os vetores e demais arquivos resultantes da utilização do programa podem ser salvos em seu diretório de arquivos. Após instalado o Rstudio destina um diretório padrão salvar estes arquivos, o qual pode ser verificado com o comando <code>getwd()</code>.</p>
<p>Este caminho padrão, por sua vez, pode ser alterado via comando</p>
<p><code>setwd("C://file/path")</code></p>
<p>onde o usuário escolhe a pasta desejada que ficará como padrão. O comando <code>dir()</code> mostra ao usuário os documentos que constam no diretório padrão ou o escolhido para a consulta.</p>
</div>
<div id="bases-de-dados-nativas-do-r-e-de-pacotes" class="section level2">
<h2><span class="header-section-number">1.8</span> Bases de dados nativas do R e de pacotes</h2>
<p>Para estimular a aprendizagem da linguagem de programação R e o uso do software RStudio, bem como para acompanhar muitos manuais e livros, existem bases de dados pré-estabelecidas que podem ser utilizadas para treino e manipulação pelos usuários. Algumas delas são nativas do RStudio, como por exemplo a famosa base <code>iris</code>. Para retomar tal base de dados nativa, basta “chamar” seu nome no console do programa:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(iris)</code></pre>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>O comando <code>data()</code> lista todas as bases nativas do RStudio:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>()</code></pre>
<p>Outras bases de dados, no entanto, vêm acompanhadas dos pacotes que são instalados no RStudio. Para verificar quais bases estão instaladas e disponíveis ao pesquisador, basta efetuar o comando abaixo:</p>
<p><code>data(package = .packages(all.available = TRUE))</code></p>
<p>É possível carregar uma base de dados de determinado pacote instalado:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(africa, <span class="dt">package=</span><span class="st">&quot;Amelia&quot;</span>)
<span class="kw">head</span>(africa)</code></pre>
<pre><code>  year      country gdp_pc  infl trade civlib population
1 1972 Burkina Faso    377 -2.92 29.69 0.5000    5848380
2 1973 Burkina Faso    376  7.60 31.31 0.5000    5958700
3 1974 Burkina Faso    393  8.72 35.22 0.3333    6075700
4 1975 Burkina Faso    416 18.76 40.11 0.3333    6202000
5 1976 Burkina Faso    435 -8.40 37.76 0.5000    6341030
6 1977 Burkina Faso    448 29.99 41.11 0.6667    6486870</code></pre>
</div>
<div id="operacoes" class="section level2">
<h2><span class="header-section-number">1.9</span> Operações</h2>
<div id="operacoes-aritmeticas" class="section level3">
<h3><span class="header-section-number">1.9.1</span> Operações Aritméticas</h3>
<p>A realização de uma operação aritmética no R acontece da seguinte forma: onde a resolução das operações segue o padrão, ou seja, primeiro exponenciações, seguido de multiplicações e divisões, deixando por último adições e subtrações, de acordo com a ordem que estão dispostas. Utiliza-se o parênteses para destacar a operação que deve ser prioritária na resolução. Seguem alguns exemplos efetuados diretamente no console do RStudio:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># soma</span>
<span class="dv">19</span><span class="op">+</span><span class="dv">26</span></code></pre>
<pre><code>[1] 45</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># subtração</span>
<span class="dv">19-26</span></code></pre>
<pre><code>[1] -7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># divisão</span>
<span class="dv">4</span><span class="op">/</span><span class="dv">2</span></code></pre>
<pre><code>[1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># multiplicação </span>
<span class="dv">4</span><span class="op">*</span><span class="dv">2</span></code></pre>
<pre><code>[1] 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># exponenciação</span>
<span class="dv">4</span><span class="op">^</span><span class="dv">2</span></code></pre>
<pre><code>[1] 16</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># prioridade de resolução</span>
<span class="dv">19</span> <span class="op">+</span><span class="st"> </span><span class="dv">26</span> <span class="op">/</span><span class="dv">4</span> <span class="dv">-2</span> <span class="op">*</span><span class="dv">10</span></code></pre>
<pre><code>[1] 5.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">((<span class="dv">19</span> <span class="op">+</span><span class="st"> </span><span class="dv">26</span>) <span class="op">/</span>(<span class="dv">4</span> <span class="dv">-2</span>))<span class="op">*</span><span class="dv">10</span></code></pre>
<pre><code>[1] 225</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># raiz quadrada</span>
<span class="kw">sqrt</span>(<span class="dv">16</span>)</code></pre>
<pre><code>[1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Logaritmo </span>
<span class="kw">log</span>(<span class="dv">1</span>)</code></pre>
<pre><code>[1] 0</code></pre>
</div>
<div id="operacoes-logicas" class="section level3">
<h3><span class="header-section-number">1.9.2</span> Operações Lógicas</h3>
<p>O ambiente de programação Rstudio trabalha com algumas operações lógicas, que serão importantes na manipulação de bases de dados:</p>
<ul>
<li><span class="math inline">\(a == b\)</span> (“a” é igual a “b”)</li>
<li><span class="math inline">\(a != b\)</span> (“a” é diferente a “b”)</li>
<li><span class="math inline">\(a &gt; b\)</span> (“a” é maior que “b”)</li>
<li><span class="math inline">\(a &lt; b\)</span> (“a” é menor que “b”)</li>
<li><span class="math inline">\(a &gt;= b\)</span> (“a” é maior ou igual a “b”)</li>
<li><span class="math inline">\(a &lt;= b\)</span> (“a” é menor ou igual a “b”)</li>
<li>is.na (“a” é missing - faltante)</li>
<li>is.null (“a” é nulo)</li>
</ul>
<p>Seguem alguns exemplos da aplicação das operações lógicas:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># maior que </span>
<span class="dv">2</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span></code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>[1] FALSE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># menor que </span>
<span class="dv">1</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># maior ou igual a </span>
<span class="dv">0</span> <span class="op">&gt;=</span><span class="st"> </span>(<span class="dv">2</span><span class="op">+</span>(<span class="op">-</span><span class="dv">2</span>))</code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># menor ou igual a </span>
<span class="dv">1</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">3</span></code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># conjunção</span>
<span class="dv">9</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">11</span> <span class="op">&amp;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span></code></pre>
<pre><code>[1] FALSE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ou</span>
<span class="dv">6</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span> <span class="op">|</span><span class="st"> </span><span class="dv">0</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">-1</span></code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># igual a</span>
<span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span><span class="op">/</span><span class="dv">2</span></code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># diferente de</span>
<span class="dv">1</span> <span class="op">!=</span><span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div id="criacao-de-objetos" class="section level2">
<h2><span class="header-section-number">1.10</span> Criação de objetos</h2>
<p>A linguagem de programação R se configura em uma linguagem orientada a objetos, ou seja, a todo tempo estão sendo criados diversos tipos de objetos e sendo efetuadas operações com os mesmos. Por exemplo, a criação de listas, bases de dados, união de bases de dados, data.frames e até mesmo mapas!</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Criando um objeto simples</span>
objeto =<span class="st"> &quot;meu primeiro objeto&quot;</span> <span class="co">#enter</span>
<span class="co">#Agora para retomar o objeto criado:</span>
objeto <span class="co">#enter</span></code></pre>
<pre><code>[1] &quot;meu primeiro objeto&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Pode ser efetuada uma operação:</span>
a=<span class="st"> </span><span class="dv">2</span><span class="op">+</span><span class="dv">1</span>
a</code></pre>
<pre><code>[1] 3</code></pre>
<p>O comando <code>ls()</code> lista todos os objetos que estão criados no ambiente e <code>rm(x)</code> remove o objeto indicado (x). Para remover todos os objetos de uma só vez utiliza-se <code>rm(list=ls())</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Lista objetos do ambiente</span>
<span class="kw">ls</span>()</code></pre>
<pre><code>[1] &quot;a&quot;      &quot;africa&quot; &quot;objeto&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Remover um banco de dados</span>
<span class="kw">rm</span>(a)</code></pre>
<p><strong>Conversão de uma variável</strong></p>
<p>Para a aplicação de algumas funções é importante que cada variável esteja corretamente classificada, o que em alguns casos não ocorre durante o reconhecimento automático do R. É preciso então reconhecê-la como variável texto, numérica ou fator. Além disso, a classe <code>ordered</code> se aplica a variáveis categóricas que podem ser consideradas ordenáveis.</p>
<pre class="sourceCode r"><code class="sourceCode r">idade=<span class="kw">c</span>(<span class="st">&#39;11&#39;</span>, <span class="st">&#39;12&#39;</span>, <span class="st">&#39;31&#39;</span>)
nomes=<span class="kw">c</span>(<span class="st">&quot;Elisa&quot;</span>, <span class="st">&quot;Priscila&quot;</span>, <span class="st">&quot;Carol&quot;</span>)
cep=<span class="kw">c</span>(<span class="dv">98700000</span>,<span class="dv">98701000</span>,<span class="dv">98702000</span>)
idade=<span class="st"> </span><span class="kw">as.numeric</span>(idade)
idade</code></pre>
<pre><code>[1] 11 12 31</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">cep =<span class="st"> </span><span class="kw">as.character</span>(cep)
cep</code></pre>
<pre><code>[1] &quot;98700000&quot; &quot;98701000&quot; &quot;98702000&quot;</code></pre>
</div>
<div id="algumas-funcoes-e-comandos-essenciais" class="section level2">
<h2><span class="header-section-number">1.11</span> Algumas funções e comandos essenciais</h2>
<p>A função <code>head()</code> mostra as 6 primeiras colunas do arquivo para se ter uma noção do conteúdo. No caso do mesmo ser um data.frame, é possível solicitar o número de valores ou linhas a serem mostrados no console através do parâmetro <code>n</code> ou na ausência deste, todas as linhas serão impressas, como exemplo <code>head(x ,n=2)</code> para ver as duas primeiras linhas.</p>
<p>O comando <code>summary()</code> efetua o resumo dos dados, se for qualitativa mostra a frequência absoluta das categorias e se for quantitativa apresenta as categorias. No exemplo abaixo é utilizada uma base de dados de treinamento denominada “iris” que está acessível no <em>software</em> RStudio através do comando que carrega dados específicos <code>data()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Carregando dados da base do RSdudio iris.</span>
<span class="kw">data</span>(iris)

<span class="co">#Visualizando as primeiras 6 colunas</span>
<span class="kw">head</span>(iris)</code></pre>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Resumo do objeto</span>
<span class="kw">summary</span>(iris)</code></pre>
<pre><code>  Sepal.Length   Sepal.Width    Petal.Length   Petal.Width        Species  
 Min.   :4.30   Min.   :2.00   Min.   :1.00   Min.   :0.1   setosa    :50  
 1st Qu.:5.10   1st Qu.:2.80   1st Qu.:1.60   1st Qu.:0.3   versicolor:50  
 Median :5.80   Median :3.00   Median :4.35   Median :1.3   virginica :50  
 Mean   :5.84   Mean   :3.06   Mean   :3.76   Mean   :1.2                  
 3rd Qu.:6.40   3rd Qu.:3.30   3rd Qu.:5.10   3rd Qu.:1.8                  
 Max.   :7.90   Max.   :4.40   Max.   :6.90   Max.   :2.5                  </code></pre>
<p>O comando <code>names()</code> lista os nomes das colunas dos bancos de dados escolhidos, enquanto <code>tail()</code> mostra as últimas seis linhas.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Para visualizar os nomes das colunas dos dados:</span>
<span class="kw">names</span>(iris)</code></pre>
<pre><code>[1] &quot;Sepal.Length&quot; &quot;Sepal.Width&quot;  &quot;Petal.Length&quot; &quot;Petal.Width&quot;  &quot;Species&quot;     </code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#vizualizar as ultimas seis linhas do objetos</span>
<span class="kw">tail</span>(iris)</code></pre>
<pre><code>    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
145          6.7         3.3          5.7         2.5 virginica
146          6.7         3.0          5.2         2.3 virginica
147          6.3         2.5          5.0         1.9 virginica
148          6.5         3.0          5.2         2.0 virginica
149          6.2         3.4          5.4         2.3 virginica
150          5.9         3.0          5.1         1.8 virginica</code></pre>
<p>Para que o pesquisador conheça melhor as bases de dados em que está atuando, o comando <code>class()</code> serve para identificar o tipo de base ou dados da base. Com o exemplo abaixo constata-se que o objeto “iris” é um <em>data frame</em>, a variável “Sepal.Length” é uma variável numérica e que a variável numérica.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(iris)</code></pre>
<pre><code>[1] &quot;data.frame&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(iris<span class="op">$</span>Sepal.Length)</code></pre>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(iris<span class="op">$</span>Especie)</code></pre>
<pre><code>[1] &quot;NULL&quot;</code></pre>
<p>Efeito semelhante possui o comando <code>ls.str()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls.str</span>(iris)</code></pre>
<pre><code>Petal.Length :  num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
Petal.Width :  num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
Sepal.Length :  num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
Sepal.Width :  num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
Species :  Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Os comandos <code>ncol()</code> e <code>nrow()</code> mostram o número de colunas e o número de linhas do objeto, respectivamente.</p>
<div id="funcoes-view-e-dim" class="section level3">
<h3><span class="header-section-number">1.11.1</span> Funções <em>View</em> e <em>dim</em></h3>
<p>A função <code>View()</code> permite vizualizar os elementos no script do dataframe requesitado, enquando a função <code>dim()</code> (abreviatura de dimensões) fornece o número de linhas e de colunas, respectivamente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(iris)
<span class="kw">dim</span>(iris)</code></pre>
<pre><code>[1] 150   5</code></pre>
<p>Para alterar um nome de uma variável pode ser utilizado o comando colnames. No exemplo, é alterado o nome da coluna “Species” para “Especie”.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Alterar o nome da coluna, sendo que o &#39;[5]&#39; indica que está na quinta coluna.</span>
<span class="kw">colnames</span>(iris)[<span class="dv">5</span>]=<span class="st">&#39;Especie&#39;</span></code></pre>
<p>Para selecionar uma coluna do objeto “iris”, por exemplo a coluna “Sepal.Length”, pode-se digitar no console o comando <strong>iris$Sepal.Length</strong>. O padrão de carregamento da base de dados nos obriga a dizer ao R qual é a base que quer selecionar (iris), inserindo o símbolo <code>$</code> e após o nome da coluna a qual deseja as informações. Para criar um novo objeto com esta informação, basta dizer ao R, como já visto acima, por exemplo: <strong>novoobjeto=iris$novacoluna</strong>.</p>
<p>No entanto, para acessar os dados sem o uso do símbolo <code>$</code>, é utilizado o seguinte comando: <strong>attach(iris)</strong>. Assim, é possível efetuar o sumário da coluna “Petal.Width”:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Definindo a função attach para o objeto &#39;dados&#39;.</span>
<span class="kw">attach</span>(iris)
<span class="co">#Efetuando o sumário de &#39;pop.total&#39;.</span>
<span class="kw">summary</span>(Petal.Width)</code></pre>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.1     0.3     1.3     1.2     1.8     2.5 </code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Como a coluna &#39;distrito&#39; é um fator, o sumário será </span>
<span class="co">#a contagem da quantidade de cada fator na coluna.</span>
<span class="kw">summary</span>(Especie)</code></pre>
<pre><code>    setosa versicolor  virginica 
        50         50         50 </code></pre>
</div>
<div id="funcao-tapply" class="section level3">
<h3><span class="header-section-number">1.11.2</span> Função <em>tapply</em></h3>
<p>O comando <code>tapply()</code> agrega os dados pelos níveis das variáveis qualitativas. Note que a coluna “Especie” possui dados em forma de fatores. Assim, para filtrar a informação (coluna “Sepal.Length”) média por <code>Especie</code>, é possível utilizar:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Função &#39;tapply&#39;, número médio da população total por distrito.</span>
<span class="kw">tapply</span>(Sepal.Length, Especie, mean)</code></pre>
<pre><code>    setosa versicolor  virginica 
     5.006      5.936      6.588 </code></pre>
<p>No caso da coluna “Sepal.Length”, se ela possuir um registro NA (faltante), para que se efetue a média por este coluna neste quesito, há que se adicionar o parâmetro <code>na.rm=T</code>, que ignora as células faltantes para calcular-se a média:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Função &#39;tapply&#39; considerando NAs:</span>
<span class="kw">tapply</span>(Sepal.Length, Especie, mean)</code></pre>
<pre><code>    setosa versicolor  virginica 
     5.006      5.936      6.588 </code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Função &#39;tapply&#39; sem considerar NAs:</span>
<span class="kw">tapply</span>(Sepal.Length, Especie, mean, <span class="dt">na.rm=</span>T)</code></pre>
<pre><code>    setosa versicolor  virginica 
     5.006      5.936      6.588 </code></pre>
</div>
<div id="funcao-subset" class="section level3">
<h3><span class="header-section-number">1.11.3</span> Função <em>subset</em></h3>
<p>Utiliza-se o comando <code>subset()</code> para formar um subconjunto de dados o qual deseja-se selecionar de um objeto. Por exemplo, se a intensão é criar um novo objeto com somente os dados filtrados da “Especie” denominada “setosa”:</p>
<pre class="sourceCode r"><code class="sourceCode r">dadossetosa=<span class="kw">subset</span>(iris, Especie<span class="op">==</span><span class="st">&#39;setosa&#39;</span>)
<span class="kw">head</span>(dadossetosa)</code></pre>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Especie
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>Pode ser configurado mais de uma condição para a filtragem dos dados, por exemplo, além de serem filtrados os dados referentes a Especie setosa, aquelas na qual o Sepal.Length é superior a 5. Como no exemplo, é criado um novo objeto com estas condições:</p>
<pre class="sourceCode r"><code class="sourceCode r">dadossetosa2=<span class="kw">subset</span>(iris, Especie<span class="op">==</span><span class="st">&#39;setosa&#39;</span><span class="op">&amp;</span><span class="st"> </span>Sepal.Length<span class="op">&gt;</span><span class="dv">5</span>)
<span class="kw">head</span>(dadossetosa2)</code></pre>
<pre><code>   Sepal.Length Sepal.Width Petal.Length Petal.Width Especie
1           5.1         3.5          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
11          5.4         3.7          1.5         0.2  setosa
15          5.8         4.0          1.2         0.2  setosa
16          5.7         4.4          1.5         0.4  setosa
17          5.4         3.9          1.3         0.4  setosa</code></pre>
</div>
<div id="funcao-table" class="section level3">
<h3><span class="header-section-number">1.11.4</span> Função <em>table</em></h3>
<p>Para contar elementos em cada nível de um fator, usa-se a função <code>table()</code>. A função pode fazer tabulações cruzadas, gerando uma tabela de contingência, esse tipo de tabela é usado para registrar observações independentes de duas ou mais variáveis aleatórias.</p>
<p>Para exemplo da utilização da função <code>table</code> agora com dados qualitativos (gênero e saúde), é utilizada a base de dados <code>cdc</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Carregando a base</span>
<span class="kw">source</span>(<span class="st">&quot;http://www.openintro.org/stat/data/cdc.R&quot;</span>)
<span class="co">#Vizualiza-se as primeiras linhas</span>
<span class="kw">head</span>(cdc)</code></pre>
<pre><code>    genhlth exerany hlthplan smoke100 height weight wtdesire age gender
1      good       0        1        0     70    175      175  77      m
2      good       0        1        1     64    125      115  33      f
3      good       1        1        1     60    105      105  49      f
4      good       1        1        0     66    132      124  42      f
5 very good       0        1        0     61    150      130  55      f
6 very good       1        1        0     64    114      114  55      f</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Efetua-se a contagem dos dados qualitativos com a função table</span>
<span class="kw">table</span>(cdc<span class="op">$</span>genhlth,cdc<span class="op">$</span>gender)</code></pre>
<pre><code>           
               m    f
  excellent 2298 2359
  very good 3382 3590
  good      2722 2953
  fair       884 1135
  poor       283  394</code></pre>
</div>
</div>
<div id="estrutura-de-dados" class="section level2">
<h2><span class="header-section-number">1.12</span> Estrutura de dados</h2>
<div id="vetores" class="section level3">
<h3><span class="header-section-number">1.12.1</span> Vetores</h3>
<p>Os fatores são uma classe especial de vetores, que definem variáveis categóricas de classificação, como os tratamentos em um experimento fatorial, ou categorias em uma tabela de contingência.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criação de um vetor</span>
<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</code></pre>
<pre><code>[1] 2 4 6</code></pre>
<p>Os vetores podem ser criados a partir de uma sequência numérica ou mesmo de um intervalo entre valores:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">6</span>)</code></pre>
<pre><code>[1] 2 3 4 5 6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criação de um vetor a partir do intervalo entre cada elemento e valores</span>
<span class="co">#mínimo e máximo</span>
<span class="kw">seq</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.5</span>)</code></pre>
<pre><code>[1] 2.0 2.5 3.0</code></pre>
<p>Criação de um vetor atráves de uma repetição também é útil em várias situações. No primeiro exemplo repete o intervalo de 1 a 3 4 vezes e no segundo exemplo, a cada 3 vezes:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">times=</span><span class="dv">4</span>)</code></pre>
<pre><code> [1] 1 2 3 1 2 3 1 2 3 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">each=</span><span class="dv">3</span>)</code></pre>
<pre><code>[1] 1 1 1 2 2 2 3 3 3</code></pre>
<p>A função factor cria um fator, a partir de um vetor:</p>
<pre class="sourceCode r"><code class="sourceCode r">sexo&lt;-<span class="kw">factor</span>(<span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>),<span class="dt">each=</span><span class="dv">8</span>))
sexo</code></pre>
<pre><code> [1] F F F F F F F F M M M M M M M M
Levels: F M</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">numeros=<span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dt">each=</span><span class="dv">3</span>)
numeros</code></pre>
<pre><code>[1] 1 1 1 2 2 2 3 3 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">numeros.f&lt;-<span class="kw">factor</span>(numeros)
numeros.f</code></pre>
<pre><code>[1] 1 1 1 2 2 2 3 3 3
Levels: 1 2 3</code></pre>
<p>Fatores têm um atributo que especifica seus níveis ou categorias (levels), que seguem ordem alfanumérica crescente, por <em>default</em>. Em muitas análises essa ordem é de fundamental importância e dessa forma pode ser alterada através do argumento levels, por exemplo, para que possa ser colocado o controle antes dos tratamentos:</p>
<pre class="sourceCode r"><code class="sourceCode r">tratamentos=<span class="kw">factor</span>(<span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;controle&quot;</span>,<span class="st">&quot;adubo A&quot;</span>,<span class="st">&quot;adubo B&quot;</span>), <span class="dt">each=</span><span class="dv">4</span>))
tratamentos</code></pre>
<pre><code> [1] controle controle controle controle adubo A  adubo A  adubo A  adubo A 
 [9] adubo B  adubo B  adubo B  adubo B 
Levels: adubo A adubo B controle</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tratamentos=<span class="kw">factor</span>(<span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;controle&quot;</span>,<span class="st">&quot;adubo A&quot;</span>,<span class="st">&quot;adubo B&quot;</span>), <span class="dt">each=</span><span class="dv">4</span>), 
<span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;controle&quot;</span>, <span class="st">&quot;adubo A&quot;</span>, <span class="st">&quot;adubo B&quot;</span>))
tratamentos</code></pre>
<pre><code> [1] controle controle controle controle adubo A  adubo A  adubo A  adubo A 
 [9] adubo B  adubo B  adubo B  adubo B 
Levels: controle adubo A adubo B</code></pre>
<p>Fatores podem conter níveis não usados (vazios):</p>
<pre class="sourceCode r"><code class="sourceCode r">participantes=<span class="kw">factor</span>(<span class="kw">rep</span>(<span class="st">&quot;mulheres&quot;</span>,<span class="dv">10</span>), <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;mulheres&quot;</span>,<span class="st">&quot;homens&quot;</span>))
participantes</code></pre>
<pre><code> [1] mulheres mulheres mulheres mulheres mulheres mulheres mulheres mulheres
 [9] mulheres mulheres
Levels: mulheres homens</code></pre>
<!--
Também é possível aplicar uma função aos subconjuntos de um vetor definidos por um fator utilizando a função `tapply()`. Criamos um objeto com o sexo das pessoas, seguido pela dieta e peso (que caracterizamos como numérico). Depois, determinamos a média de peso frente ao sexo e a dieta


```r
sexo=factor(rep(c("F","M"),each=9))
dieta=factor(rep(rep(c("normal","light","diet"), each=3),2), 
levels=c("normal", "light","diet"))
peso=c(90, 89, 78, 69, 85, 69, 77, 89, 80, 60, 75, 79, 65, 94,
       69, 85, 69, 77)
sexo
```

```
 [1] F F F F F F F F F M M M M M M M M M
Levels: F M
```

```r
dieta
```

```
 [1] normal normal normal light  light  light  diet   diet   diet   normal
[11] normal normal light  light  light  diet   diet   diet  
Levels: normal light diet
```

```r
peso=as.numeric(peso)

# média de peso frente ao sexo e dieta
tapply(peso,list(sexo,dieta), mean)
```

```
  normal light diet
F  85.67 74.33   82
M  71.33 76.00   77
```
-->
</div>
<div id="matrizes" class="section level3">
<h3><span class="header-section-number">1.12.2</span> Matrizes</h3>
<p>A função matrix tem a finalidade de criar uma matriz com os valores do argumento data, argumento este que insere as variáveis desejadas na matriz. O número de linhas é definido pelo argumento nrow e o número de colunas é definido pelo argumento ncol:</p>
<pre class="sourceCode r"><code class="sourceCode r">nome.da.matriz=<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data=</span><span class="dv">1</span><span class="op">:</span><span class="dv">12</span>,<span class="dt">nrow =</span> <span class="dv">3</span>,<span class="dt">ncol =</span> <span class="dv">4</span>)
nome.da.matriz</code></pre>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12</code></pre>
<p>Por <em>default</em> (ação tomada pelo <em>software</em>), os valores são preenchidos por coluna. Para preencher por linha basta instruir o programa de outra forma, alterando o argumento <code>byrow</code> para TRUE:</p>
<pre class="sourceCode r"><code class="sourceCode r">nome.da.matriz=<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data=</span><span class="dv">1</span><span class="op">:</span><span class="dv">12</span>,<span class="dt">nrow =</span> <span class="dv">3</span>,<span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">byrow=</span>T)
nome.da.matriz</code></pre>
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    5    6    7    8
[3,]    9   10   11   12</code></pre>
<p>Se a matriz inserida tem menos elementos do que a ordem informada para a matriz, os são repetidos até preenchê-la:</p>
<pre class="sourceCode r"><code class="sourceCode r">lista=<span class="st"> </span><span class="kw">list</span>(<span class="dt">matriz=</span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>), <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>))
lista</code></pre>
<pre><code>$matriz
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]    1    1</code></pre>
</div>
<div id="listas" class="section level3">
<h3><span class="header-section-number">1.12.3</span> Listas</h3>
<p>As listas podem ser criadas a partir do comando <code>list()</code>.</p>
<ul>
<li><strong>nrow</strong>: corresponde ao número de linhas;</li>
<li><strong>ncol</strong>: corresponde ao número de colunas.</li>
</ul>
<p>Para ver quais elementos estão em suas listas é só chamar pelo nome que foi dado para ela, como no exemplo abaixo. Representa uma coleção de objetos.</p>
<pre class="sourceCode r"><code class="sourceCode r">lista=<span class="st"> </span><span class="kw">list</span>(<span class="dt">matriz=</span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>), <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>),<span class="dt">vetor=</span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)
lista</code></pre>
<pre><code>$matriz
     [,1] [,2]
[1,]    1    5
[2,]    2    7
[3,]    1    9

$vetor
[1] 1 2 3 4 5 6</code></pre>
<p><strong>Comandos para manipulação de listas</strong></p>
<p>Para descobrir de maneira rápida o números de objetos que há na lista, utiliza-se o comando <code>length(nomedalista)</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">lista</code></pre>
<pre><code>$matriz
     [,1] [,2]
[1,]    1    5
[2,]    2    7
[3,]    1    9

$vetor
[1] 1 2 3 4 5 6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(lista)</code></pre>
<pre><code>[1] 2</code></pre>
<p>O uso do comando <code>names(nomedalista)</code> retorna os nomes dos objetos que estão presentes na lista.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(lista)</code></pre>
<pre><code>[1] &quot;matriz&quot; &quot;vetor&quot; </code></pre>
<p>Para chamar várias listas utiliza-se o comando da seguinte forma:</p>
<p><code>c(nome1, nome2)</code></p>
<pre class="sourceCode r"><code class="sourceCode r">lista<span class="fl">.1</span>=<span class="st"> </span><span class="kw">list</span>(<span class="dt">matriz=</span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>), <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>),
              <span class="dt">vetor=</span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)
lista<span class="fl">.2</span>=<span class="st"> </span><span class="kw">list</span>(<span class="dt">nomes=</span><span class="kw">c</span>(<span class="st">&quot;Marcelo&quot;</span>, <span class="st">&quot;Fábio&quot;</span>, <span class="st">&quot;Felipe&quot;</span>), 
              <span class="dt">idade=</span><span class="kw">c</span>(<span class="dv">25</span>, <span class="dv">34</span>, <span class="dv">26</span>))
<span class="kw">c</span>(lista<span class="fl">.1</span>,lista<span class="fl">.2</span>)</code></pre>
<pre><code>$matriz
     [,1] [,2]
[1,]    1    5
[2,]    2    7
[3,]    1    9

$vetor
[1] 1 2 3 4 5 6

$nomes
[1] &quot;Marcelo&quot; &quot;Fábio&quot;   &quot;Felipe&quot; 

$idade
[1] 25 34 26</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">1.12.4</span> Data frames</h3>
<p>Com a função <code>data.frame()</code> reunimos vetores de mesmo comprimento em um só objeto. Neste caso são criadas tabelas de dados. Cada observação é descrita por um conjunto de propriedades. No exemplo abaixo é possível verificar como inserir os dados para criar a “tabela”. São similares como as matrizes, porém diferentes colunas podem possuir elementos de natureza diferentes.</p>
<pre class="sourceCode r"><code class="sourceCode r">estudantes=<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Camila&quot;</span>, <span class="st">&quot;Pedro&quot;</span>, <span class="st">&quot;Marcelo&quot;</span>,<span class="st">&quot;Guilherme&quot;</span>)
idade=<span class="kw">c</span>(<span class="dv">21</span>,<span class="dv">17</span>,<span class="dv">17</span>,<span class="dv">18</span>)
peso=<span class="kw">c</span>(<span class="dv">65</span>,<span class="dv">79</span>,<span class="dv">80</span>,<span class="dv">100</span>)
informacoes=<span class="kw">data.frame</span>(estudantes,idade,peso)
informacoes</code></pre>
<pre><code>  estudantes idade peso
1     Camila    21   65
2      Pedro    17   79
3    Marcelo    17   80
4  Guilherme    18  100</code></pre>
<p>Adiciona-se colunas no <em>data frame</em> através do comando a seguir, pressupondo que a ordem dos dados esteja correta:</p>
<p><code>nomedodata.frame$variávelaseradicionada</code></p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>cidades=<span class="kw">c</span>(<span class="st">&quot;Nova Hartz&quot;</span>,<span class="st">&quot;Gramado&quot;</span>,<span class="st">&quot;Soledade&quot;</span>,
                      <span class="st">&quot;Porto Alegre&quot;</span>)
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades
1     Camila    21   65   Nova Hartz
2      Pedro    17   79      Gramado
3    Marcelo    17   80     Soledade
4  Guilherme    18  100 Porto Alegre</code></pre>
<p>É possível fazer uma contagem concatenando com a filtragem do pacote <code>subset</code>, como no exemplo a contagem dos indivíduos cuja origem é Soledade.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">subset</span>(informacoes<span class="op">$</span>cidades, informacoes<span class="op">$</span>cidades<span class="op">==</span><span class="st">&quot;Soledade&quot;</span>))</code></pre>
<pre><code>[1] 1</code></pre>
</div>
</div>
<div id="manipulacao-de-banco-de-dados" class="section level2">
<h2><span class="header-section-number">1.13</span> Manipulação de banco de dados</h2>
<!--
## Funções
-->
<p>A função <code>edit()</code> abre uma interface simples de edição de dados em formato planilha, e é útil para pequenas modificações. Mas para salvar as modificações atribua o resultado da função <code>edit</code> a um objeto.</p>
<p>Utiliza-se o comando da seguinte forma:</p>
<p><code>novonomedabase = edit(nomeatualdabase)</code></p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="fl">.2</span>=<span class="kw">edit</span>(informacoes)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:95"></span>
<img src="95.PNG" alt="Editor de dados" width="70%" />
<p class="caption">
Figura 1.8: Editor de dados
</p>
</div>
<p>Basta clicar no retângulo correspondente a variável que deseja ser modificada, excluir ou adicionar novas colunas.</p>
<div class="figure" style="text-align: center"><span id="fig:10"></span>
<img src="10.PNG" alt="Acréscimo de uma nova coluna através do editor de dados" width="70%" />
<p class="caption">
Figura 1.9: Acréscimo de uma nova coluna através do editor de dados
</p>
</div>
<p>Logo, chamando o novo banco de dados, é obtido:</p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="fl">.2</span> </code></pre>
<pre><code>  estudantes idade peso      cidades
1     Camila    21   65   Nova Hartz
2      Pedro    17   79      Gramado
3    Marcelo    17   80     Soledade
4  Guilherme    18  100 Porto Alegre</code></pre>
<p>As funções a seguir são aplicáveis a vetores, data.frames e listas, e em muitos casos trazem praticidade a uma análise estatística. Foram criados objetos com informações do nome dos estudantes e altura. Segue o processo de criação do <em>data frame</em> com estas informações, lembrando que esta forma de “união” das informações pressupõe que a ordem dos dados esteja correta:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Crição do data frame</span>
estudantes=<span class="kw">c</span>(<span class="st">&quot;Guilherme&quot;</span>, <span class="st">&quot;Marcelo&quot;</span>, <span class="st">&quot;Pedro&quot;</span>, <span class="st">&quot;Camila&quot;</span>)
altura=<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.50</span>, <span class="fl">1.9</span>, <span class="fl">1.74</span>, <span class="fl">1.80</span>)
informacoes<span class="fl">.3</span>=<span class="kw">data.frame</span>(estudantes, altura)</code></pre>
<p>Já o comando <code>merge()</code> serve para juntar dois <em>data frames</em> que possuam uma coluna em comum. Neste caso, unimos o objeto <code>informações.2</code> com o objeto <code>informações.3</code> utilizando o nome dos estudantes (informação em comum):</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># União de um banco de dados (existencia de uma váriavel em comum)</span>

informacoes=<span class="kw">merge</span>(informacoes<span class="fl">.2</span>,informacoes<span class="fl">.3</span>, <span class="dt">by=</span><span class="st">&quot;estudantes&quot;</span>)</code></pre>
<p>Adicionar um cálculo entre as colunas é muito simples com o RStudio, neste caso com os dados do peso e altura, pode-se calcular o IMC (Índice de Massa Corporal) em uma nova coluna:</p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>Imc=<span class="kw">c</span>(informacoes<span class="op">$</span>peso<span class="op">/</span>(informacoes<span class="op">$</span>altura<span class="op">^</span><span class="dv">2</span>))
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc
1     Camila    21   65   Nova Hartz   1.80 20.06
2  Guilherme    18  100 Porto Alegre   1.50 44.44
3    Marcelo    17   80     Soledade   1.90 22.16
4      Pedro    17   79      Gramado   1.74 26.09</code></pre>
<p>Ainda, se houver linhas que tenham pelo menos uma informação faltante (NA), estas podem ser excluídas com o comando <code>na.omit()</code>, ou mesmo os NAs serem substituídos por outro caractere (neste caso foi substituído por zero) com o comando <code>is.na</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Retirar as linhas que tenham pelo menos um NA:</span>

informacoes&lt;-<span class="st"> </span><span class="kw">na.omit</span>(informacoes)
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc
1     Camila    21   65   Nova Hartz   1.80 20.06
2  Guilherme    18  100 Porto Alegre   1.50 44.44
3    Marcelo    17   80     Soledade   1.90 22.16
4      Pedro    17   79      Gramado   1.74 26.09</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Substituir NA&#39;s por zero no data.frame</span>

informacoes[<span class="kw">is.na</span>(informacoes)] =<span class="st"> </span><span class="dv">0</span>
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc
1     Camila    21   65   Nova Hartz   1.80 20.06
2  Guilherme    18  100 Porto Alegre   1.50 44.44
3    Marcelo    17   80     Soledade   1.90 22.16
4      Pedro    17   79      Gramado   1.74 26.09</code></pre>
<p>Outro recurso interessante é a substituição de dados em uma coluna, que pode ser feito de forma automática para uma condição padrão escolhida. No exemplo abaixo, substituimos aquelas informações de idade igual a 17 pelo número 19:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Substituir números na coluna</span>
informacoes<span class="op">$</span>idade[informacoes<span class="op">$</span>idade <span class="op">==</span><span class="st"> </span><span class="dv">17</span>] &lt;-<span class="st"> </span><span class="dv">19</span>
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc
1     Camila    21   65   Nova Hartz   1.80 20.06
2  Guilherme    18  100 Porto Alegre   1.50 44.44
3    Marcelo    19   80     Soledade   1.90 22.16
4      Pedro    19   79      Gramado   1.74 26.09</code></pre>
<p>A classificação qualitativa das informações, com base em condições definidas pelo usuário podem ser facilmente efetuadas pelo comando <code>ifelse</code>. Para quem não tem intimidade com atributos de programação, este comando seleciona “se” (<em>if</em>) uma informação desejada é atendida, e cria uma rotina (<em>else</em>) que será aplicada “então”.</p>
<p>No nosso exemplo, cria-se um objeto “classificacao” e se a coluna IMC conter dados acima de 25, será marcado como “peso normal”, sendo que do contrário, constará como “excesso de peso”. Após, utilizar o comando <code>cbind()</code> para unir os dois objetos pelas colunas. Caso não se deseje utilizar o comando <code>cbind()</code>, poderia ser criado uma nova coluna com o nome do obetjo sendo “informacoes$classificacao”.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Classificar qualitativamente informações em um determinado intervalo </span>
classificacao=<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&lt;</span><span class="dv">25</span>, <span class="st">&quot;peso normal&quot;</span>,<span class="st">&quot;excesso de peso&quot;</span>)
informacoes=<span class="kw">cbind</span>(informacoes, classificacao)
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc   classificacao
1     Camila    21   65   Nova Hartz   1.80 20.06     peso normal
2  Guilherme    18  100 Porto Alegre   1.50 44.44 excesso de peso
3    Marcelo    19   80     Soledade   1.90 22.16     peso normal
4      Pedro    19   79      Gramado   1.74 26.09 excesso de peso</code></pre>
<pre><code>Carregando pacotes exigidos: knitr</code></pre>
<table>
<caption><span id="tab:imct">Tabela 1.1: </span>Valores padrão para o IMC</caption>
<thead>
<tr class="header">
<th align="left">Resultado</th>
<th align="left">Significado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Abaixo de 17</td>
<td align="left">Muito abaixo do peso</td>
</tr>
<tr class="even">
<td align="left">Entre 17 e 18,49</td>
<td align="left">Abaixo do peso</td>
</tr>
<tr class="odd">
<td align="left">Entre 18,5 e 24,99</td>
<td align="left">Peso normal</td>
</tr>
<tr class="even">
<td align="left">Entre 25 e 29,99</td>
<td align="left">Acima do peso</td>
</tr>
<tr class="odd">
<td align="left">Entre 30 e 34,99</td>
<td align="left">Obesidade I</td>
</tr>
<tr class="even">
<td align="left">Entre 35 e 39,99</td>
<td align="left">Obesidade II (severa)</td>
</tr>
<tr class="odd">
<td align="left">Acima de 40</td>
<td align="left">Obesidade III (mórbida)</td>
</tr>
</tbody>
</table>
<p>Fonte: Adaptado de <span class="citation">Brasil (<a href="#ref-brasil2014">2014</a>)</span> .</p>
<p>No entanto, o IMC possui várias classificações de acordo com o seu resultado (Tabela <a href="intro.html#tab:imct">1.1</a>), sendo que, por exemplo, resultados abaixo de 17 informam que o indivíduo se encontra como Muito abaixo do peso, e acima de 40, se encontra em Obesidade III. Para efetuar a classificação desta maneira utilizando o comando <code>ifelse</code>, ou seja, com mais de uma condição, pode ser efetuada a estruturação com a aglutinação do comando:</p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>tipoimc=<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&lt;</span><span class="dv">17</span>, <span class="st">&quot;Muito abaixo do peso&quot;</span>,
<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&gt;=</span><span class="dv">17</span><span class="op">&amp;</span>informacoes<span class="op">$</span>Imc<span class="op">&lt;=</span><span class="fl">18.49</span>,<span class="st">&quot;Abaixo do peso&quot;</span>,
<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&gt;=</span><span class="fl">18.5</span><span class="op">&amp;</span>informacoes<span class="op">$</span>Imc<span class="op">&lt;=</span><span class="fl">24.99</span>,<span class="st">&quot;Peso Normal&quot;</span>,
<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&gt;=</span><span class="dv">25</span><span class="op">&amp;</span>informacoes<span class="op">$</span>Imc<span class="op">&lt;=</span><span class="fl">29.99</span>,<span class="st">&quot;Acima do Peso&quot;</span>,
<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&gt;=</span><span class="dv">30</span><span class="op">&amp;</span>informacoes<span class="op">$</span>Imc<span class="op">&lt;=</span><span class="fl">34.99</span>,<span class="st">&quot;Obesidade I&quot;</span>,
<span class="kw">ifelse</span>(informacoes<span class="op">$</span>Imc<span class="op">&gt;=</span><span class="dv">35</span><span class="op">&amp;</span>informacoes<span class="op">$</span>Imc<span class="op">&lt;=</span><span class="fl">39.99</span>,<span class="st">&quot;Obesidade II&quot;</span>,
       <span class="st">&quot;Obesidade III&quot;</span>))))))
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc   classificacao       tipoimc
1     Camila    21   65   Nova Hartz   1.80 20.06     peso normal   Peso Normal
2  Guilherme    18  100 Porto Alegre   1.50 44.44 excesso de peso Obesidade III
3    Marcelo    19   80     Soledade   1.90 22.16     peso normal   Peso Normal
4      Pedro    19   79      Gramado   1.74 26.09 excesso de peso Acima do Peso</code></pre>
<p>A classificação binária dos dados (0,1) também é relevante para o estudo da manipulação dos dados trabalhados pelo pesquisador. Neste exemplo, classificou-se aqueles valores da coluna “classificacao” com o “peso normal” iguais a 1, do contrário classificou-se 0 (zero).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Classificar informações usando o código binário</span>
informacoes<span class="op">$</span>binario=<span class="st"> </span><span class="kw">ifelse</span>(informacoes<span class="op">$</span>classificacao 
                            <span class="op">==</span><span class="st"> &#39;peso normal&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>) 
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc   classificacao       tipoimc
1     Camila    21   65   Nova Hartz   1.80 20.06     peso normal   Peso Normal
2  Guilherme    18  100 Porto Alegre   1.50 44.44 excesso de peso Obesidade III
3    Marcelo    19   80     Soledade   1.90 22.16     peso normal   Peso Normal
4      Pedro    19   79      Gramado   1.74 26.09 excesso de peso Acima do Peso
  binario
1       1
2       0
3       1
4       0</code></pre>
<p>O comando <code>rbind()</code> é utilizado para incluir linhas novas abaixo de um objeto já criado pelo pesquisador, sendo que é importante o cuidado de que estas novas informações tenham os mesmos campos (colunas). A exemplo, pede-se para incluir uma nova pessoa no <em>data frame</em> informacoes: Francisco, 30 anos de idade, peso 59, natural de Ijuí, IMC 23,33768, classificado como peso normal. Lembrando de incluir os campos “tipoimc” e “binario”.</p>
<pre class="sourceCode r"><code class="sourceCode r">novo1=<span class="kw">data.frame</span>(<span class="dt">estudantes=</span><span class="st">&quot;Francisco&quot;</span>, <span class="dt">idade=</span><span class="dv">30</span>, <span class="dt">peso=</span><span class="dv">59</span>, 
                 <span class="dt">cidades=</span><span class="st">&quot;Ijuí&quot;</span>, 
                 <span class="dt">altura=</span><span class="st">&quot;1,59&quot;</span>, 
                 <span class="dt">Imc=</span> <span class="fl">23.33768</span>, 
                 <span class="dt">classificacao=</span> <span class="st">&quot;peso normal&quot;</span>,
                 <span class="dt">tipoimc=</span><span class="st">&quot;Peso Normal&quot;</span>, 
                 <span class="dt">binario=</span><span class="dv">1</span>)
informacoes=<span class="kw">rbind</span>(informacoes, novo1)
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc   classificacao       tipoimc
1     Camila    21   65   Nova Hartz    1.8 20.06     peso normal   Peso Normal
2  Guilherme    18  100 Porto Alegre    1.5 44.44 excesso de peso Obesidade III
3    Marcelo    19   80     Soledade    1.9 22.16     peso normal   Peso Normal
4      Pedro    19   79      Gramado   1.74 26.09 excesso de peso Acima do Peso
5  Francisco    30   59         Ijuí   1,59 23.34     peso normal   Peso Normal
  binario
1       1
2       0
3       1
4       0
5       1</code></pre>
<p>Outra forma de incluir informações adicionais nos <em>data frames</em> através de atributos é utilizando o pacote <code>dplyr</code>. Decide-se criar um campo “faixa etária”, sendo que aqueles indivíduos com idade acima de 21 serão chamados de “adulto” e do contrário “não adulto”.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(dplyr)</code></pre>
<pre><code>Carregando pacotes exigidos: dplyr</code></pre>
<pre><code>
Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>The following objects are masked from &#39;package:stats&#39;:

    filter, lag</code></pre>
<pre><code>The following objects are masked from &#39;package:base&#39;:

    intersect, setdiff, setequal, union</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">informacoes=<span class="st"> </span><span class="kw">mutate</span>(informacoes, 
                    <span class="st">&quot;faixa etaria&quot;</span>=<span class="st"> </span><span class="kw">ifelse</span>(informacoes<span class="op">$</span>idade<span class="op">&lt;</span><span class="dv">21</span>,
                                           <span class="st">&quot;não adulto&quot;</span>, <span class="st">&quot;adulto&quot;</span>))
informacoes</code></pre>
<pre><code>  estudantes idade peso      cidades altura   Imc   classificacao       tipoimc
1     Camila    21   65   Nova Hartz    1.8 20.06     peso normal   Peso Normal
2  Guilherme    18  100 Porto Alegre    1.5 44.44 excesso de peso Obesidade III
3    Marcelo    19   80     Soledade    1.9 22.16     peso normal   Peso Normal
4      Pedro    19   79      Gramado   1.74 26.09 excesso de peso Acima do Peso
5  Francisco    30   59         Ijuí   1,59 23.34     peso normal   Peso Normal
  binario faixa etaria
1       1       adulto
2       0   não adulto
3       1   não adulto
4       0   não adulto
5       1       adulto</code></pre>
<p>A (re)ordenação das colunas de um <em>data frame</em> pode ser muito útil em alguns casos, sendo extremamente fácil efetuá-la, cada número representa o número da respectiva coluna:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Reordenar colunas</span>
informacoes=informacoes[<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">10</span>)]</code></pre>
<p>Caso se queira a inversão total da ordem das colunas do objeto estudado, o comando <code>rev()</code> pode ser útil:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Inversão do posicionamento dos elementos</span>
<span class="kw">rev</span>(informacoes)</code></pre>
<pre><code>  faixa etaria binario   classificacao altura   Imc estudantes      cidades
1       adulto       1     peso normal    1.8 20.06     Camila   Nova Hartz
2   não adulto       0 excesso de peso    1.5 44.44  Guilherme Porto Alegre
3   não adulto       1     peso normal    1.9 22.16    Marcelo     Soledade
4   não adulto       0 excesso de peso   1.74 26.09      Pedro      Gramado
5       adulto       1     peso normal   1,59 23.34  Francisco         Ijuí
  peso idade       tipoimc
1   65    21   Peso Normal
2  100    18 Obesidade III
3   80    19   Peso Normal
4   79    19 Acima do Peso
5   59    30   Peso Normal</code></pre>
<p>A função <code>table()</code> faz a contagem os dados; já o comando <code>sort()</code> ordena os objetos em ordem crescente (caso queira no formato decrescente, informar <code>decreasing=TRUE</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># contagem de objetos</span>
<span class="kw">table</span>(informacoes<span class="op">$</span>classificacao)</code></pre>
<pre><code>
excesso de peso     peso normal 
              2               3 </code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ordenar os objetos em ordem crescente</span>
<span class="kw">sort</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 18 19 19 21 30</code></pre>
<p>A ordenação de todo o <em>data frame</em> a partir de uma variável, pode ser realizada utilizando o comando <code>order</code>, sendo que pode ser realizada inclusive com variáveis categóricas (no exemplo abaixo o nome das cidades).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ordem decrescente </span>
informacoes[<span class="kw">order</span>(informacoes<span class="op">$</span>idade, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>),]</code></pre>
<pre><code>        tipoimc idade peso      cidades estudantes   Imc altura   classificacao
5   Peso Normal    30   59         Ijuí  Francisco 23.34   1,59     peso normal
1   Peso Normal    21   65   Nova Hartz     Camila 20.06    1.8     peso normal
3   Peso Normal    19   80     Soledade    Marcelo 22.16    1.9     peso normal
4 Acima do Peso    19   79      Gramado      Pedro 26.09   1.74 excesso de peso
2 Obesidade III    18  100 Porto Alegre  Guilherme 44.44    1.5 excesso de peso
  binario faixa etaria
5       1       adulto
1       1       adulto
3       1   não adulto
4       0   não adulto
2       0   não adulto</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ordem crescente</span>
informacoes[<span class="kw">order</span>(informacoes<span class="op">$</span>idade, <span class="dt">decreasing =</span> <span class="ot">FALSE</span>),]</code></pre>
<pre><code>        tipoimc idade peso      cidades estudantes   Imc altura   classificacao
2 Obesidade III    18  100 Porto Alegre  Guilherme 44.44    1.5 excesso de peso
3   Peso Normal    19   80     Soledade    Marcelo 22.16    1.9     peso normal
4 Acima do Peso    19   79      Gramado      Pedro 26.09   1.74 excesso de peso
1   Peso Normal    21   65   Nova Hartz     Camila 20.06    1.8     peso normal
5   Peso Normal    30   59         Ijuí  Francisco 23.34   1,59     peso normal
  binario faixa etaria
2       0   não adulto
3       1   não adulto
4       0   não adulto
1       1       adulto
5       1       adulto</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ordem crescente</span>
informacoes[<span class="kw">order</span>(informacoes<span class="op">$</span>cidades, <span class="dt">decreasing =</span> <span class="ot">FALSE</span>),]</code></pre>
<pre><code>        tipoimc idade peso      cidades estudantes   Imc altura   classificacao
4 Acima do Peso    19   79      Gramado      Pedro 26.09   1.74 excesso de peso
5   Peso Normal    30   59         Ijuí  Francisco 23.34   1,59     peso normal
1   Peso Normal    21   65   Nova Hartz     Camila 20.06    1.8     peso normal
2 Obesidade III    18  100 Porto Alegre  Guilherme 44.44    1.5 excesso de peso
3   Peso Normal    19   80     Soledade    Marcelo 22.16    1.9     peso normal
  binario faixa etaria
4       0   não adulto
5       1       adulto
1       1       adulto
2       0   não adulto
3       1   não adulto</code></pre>
<p>O comando <code>rank()</code> cria uma ranqueamento crescente das informações. Se pretende-se, por exemplo, criar uma coluna com o ranking dos valores do IMC, pode ser utilizado:</p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>rankingImc=<span class="kw">rank</span>(informacoes<span class="op">$</span>Imc)
informacoes</code></pre>
<pre><code>        tipoimc idade peso      cidades estudantes   Imc altura   classificacao
1   Peso Normal    21   65   Nova Hartz     Camila 20.06    1.8     peso normal
2 Obesidade III    18  100 Porto Alegre  Guilherme 44.44    1.5 excesso de peso
3   Peso Normal    19   80     Soledade    Marcelo 22.16    1.9     peso normal
4 Acima do Peso    19   79      Gramado      Pedro 26.09   1.74 excesso de peso
5   Peso Normal    30   59         Ijuí  Francisco 23.34   1,59     peso normal
  binario faixa etaria rankingImc
1       1       adulto          1
2       0   não adulto          5
3       1   não adulto          2
4       0   não adulto          4
5       1       adulto          3</code></pre>
<p>Para utilizar a função <code>rank</code> com os maiores valores em primeiro lugar:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rank</span>(<span class="op">-</span>informacoes<span class="op">$</span>Imc)</code></pre>
<pre><code>[1] 5 1 4 2 3</code></pre>
<!--
# Manipulando bases de dados


O objetivo deste capítulo é retomar alguns pacotes importantes no RStudio para a
manipulação e transformação de grandes bases de dados que o pesquisador terá que manejar ao longo dos processos de análise.

-->
<div id="o-pacote-tidyr" class="section level3">
<h3><span class="header-section-number">1.13.1</span> O pacote <em>tidyr</em></h3>
<p>Nesta subseção será utilizado o pacote <code>tidyr</code> para demonstrar algumas funções que contribuem para a manipulação das bases de dados, tão importante no processo de preperação das informações para posterior análise. Serão utilizadas para demonstração as bases de dados existentes no próprio pacote.</p>
<p>Abaixo segue uma demonstração das convenções a respeito das bases de dados. Desta forma verifica-se que cada variável é apresentada em sua respectiva coluna, bem como as observações são apresentadas em sua própria linha e portanto os valores constam em sua própria célula.</p>
<div class="figure" style="text-align: center"><span id="fig:dados"></span>
<img src="tidy-1.png" alt="Convenção sobre variáveis, observações e valores" width="70%" />
<p class="caption">
Figura 1.10: Convenção sobre variáveis, observações e valores
</p>
</div>
<div id="funcao-spread" class="section level4">
<h4><span class="header-section-number">1.13.1.1</span> Função <em>spread</em></h4>
<p>A função <code>spread()</code> é utilizada para transformar os valores constantes em uma coluna em nova configuração de colunas. Ainda, é possível determinar a transformação dos valores com o comando <code>convert = TRUE</code> informando o tipo de valores (doubles (numerics), integers, logicals, complexes, ou factors) nas colunas a serem criadas (comando <code>type.convert()</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(tidyr)</code></pre>
<pre><code>Carregando pacotes exigidos: tidyr</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">table2</code></pre>
<pre><code># A tibble: 12 x 4
   country      year type            count
   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;           &lt;int&gt;
 1 Afghanistan  1999 cases             745
 2 Afghanistan  1999 population   19987071
 3 Afghanistan  2000 cases            2666
 4 Afghanistan  2000 population   20595360
 5 Brazil       1999 cases           37737
 6 Brazil       1999 population  172006362
 7 Brazil       2000 cases           80488
 8 Brazil       2000 population  174504898
 9 China        1999 cases          212258
10 China        1999 population 1272915272
11 China        2000 cases          213766
12 China        2000 population 1280428583</code></pre>
<p>Neste exemplo, a coluna “type” abriga os valores “cases” e “population”, as quais terão suas próprias colunas com seus respectivos valores:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">spread</span>(table2, type, count)</code></pre>
<pre><code># A tibble: 6 x 4
  country      year  cases population
  &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3 Brazil       1999  37737  172006362
4 Brazil       2000  80488  174504898
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
<div id="funcao-gather" class="section level4">
<h4><span class="header-section-number">1.13.1.2</span> Função <em>gather</em></h4>
<p>Já a função <code>gather()</code> realiza o processo oposto do comando <code>spread()</code>, pois agrupa o valor de determinadas variável em uma chave comum.</p>
<pre class="sourceCode r"><code class="sourceCode r">table4a</code></pre>
<pre><code># A tibble: 3 x 3
  country     `1999` `2000`
* &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;
1 Afghanistan    745   2666
2 Brazil       37737  80488
3 China       212258 213766</code></pre>
<p>Abaixo a transformação das variáveis “1999” e “2000” em uma única variável “year”, mantendo os valores inseridos na variável “cases”:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gather</span>(table4a, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;cases&quot;</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)</code></pre>
<pre><code># A tibble: 6 x 3
  country     year   cases
  &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;
1 Afghanistan 1999     745
2 Brazil      1999   37737
3 China       1999  212258
4 Afghanistan 2000    2666
5 Brazil      2000   80488
6 China       2000  213766</code></pre>
</div>
<div id="funcao-separate" class="section level4">
<h4><span class="header-section-number">1.13.1.3</span> Função <em>separate</em></h4>
<p>A função <code>separate()</code> é utilizada para partir uma determinada variável em novas variáveis da base de dados.</p>
<pre class="sourceCode r"><code class="sourceCode r">table3</code></pre>
<pre><code># A tibble: 6 x 3
  country      year rate             
* &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
1 Afghanistan  1999 745/19987071     
2 Afghanistan  2000 2666/20595360    
3 Brazil       1999 37737/172006362  
4 Brazil       2000 80488/174504898  
5 China        1999 212258/1272915272
6 China        2000 213766/1280428583</code></pre>
<p>Neste exemplo, a variável “rate”, que está composta de duas informações separadas pelo caractere “<span class="math inline">\(/\)</span>”, será separada nas novas variáveis “cases” e “population”:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">separate</span>(table3, rate, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;cases&quot;</span>, <span class="st">&quot;population&quot;</span>),<span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</code></pre>
<pre><code># A tibble: 6 x 4
  country      year cases  population
  &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     
1 Afghanistan  1999 745    19987071  
2 Afghanistan  2000 2666   20595360  
3 Brazil       1999 37737  172006362 
4 Brazil       2000 80488  174504898 
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
<p>Da mesma forma é possível criar duas novas variáveis a partir do segundo caractere do valor que consta nas células utilizando o comando <code>sep=2</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">separate</span>(table3, year, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;century&quot;</span>, <span class="st">&quot;year&quot;</span>), <span class="dt">sep =</span> <span class="dv">2</span>)</code></pre>
<pre><code># A tibble: 6 x 4
  country     century year  rate             
  &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
</div>
<div id="funcao-unite" class="section level4">
<h4><span class="header-section-number">1.13.1.4</span> Função <em>unite</em></h4>
<p>A função <code>unite()</code> é oposta à função <code>separate()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">table5</code></pre>
<pre><code># A tibble: 6 x 4
  country     century year  rate             
* &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
<p>Neste exemplo, recria a variável “new” a partir dos dados de “century” e “year”:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unite</span>(table5, <span class="st">&quot;new&quot;</span>, century, year, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</code></pre>
<pre><code># A tibble: 6 x 3
  country     new   rate             
  &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 1999  745/19987071     
2 Afghanistan 2000  2666/20595360    
3 Brazil      1999  37737/172006362  
4 Brazil      2000  80488/174504898  
5 China       1999  212258/1272915272
6 China       2000  213766/1280428583</code></pre>
</div>
</div>
<div id="o-pacote-dplyr" class="section level3">
<h3><span class="header-section-number">1.13.2</span> O pacote <em>dplyr</em></h3>
<p>O pacote <code>dplyr</code> é uma poderosa ferramenta para manipulação, criação e transformação de dados no RStudio, agregando agilidade e robustez para o processo de análise e preparação dos dados. Seguem a seguir algumas das principais funções do pacote com a utilização da base de dados nativa do RStudio <code>mtcars</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mtcars)</code></pre>
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<div id="funcao-select" class="section level4">
<h4><span class="header-section-number">1.13.2.1</span> Função <em>select</em></h4>
<p>A função <code>select()</code> é utilizada para selecionar as variáveis de interesse do pesquisador, a partir de uma base de dados, neste caso a partir da base <code>mtcars</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

novo=<span class="kw">select</span>(mtcars, mpg, cyl)
<span class="kw">head</span>(novo)</code></pre>
<pre><code>                   mpg cyl
Mazda RX4         21.0   6
Mazda RX4 Wag     21.0   6
Datsun 710        22.8   4
Hornet 4 Drive    21.4   6
Hornet Sportabout 18.7   8
Valiant           18.1   6</code></pre>
<p>No exemplo são selecionadas todas as variáveis excluindo <code>mpg</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">select</span>(mtcars, <span class="op">-</span><span class="kw">c</span>(mpg))
<span class="kw">head</span>(novo)</code></pre>
<pre><code>                  cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant             6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>É possível selecionar uma sequência de variáveis a partir de seus nomes (utilidade semelhante a <code>select(mtcars, 2:5)</code>):</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">select</span>(mtcars, cyl<span class="op">:</span>drat)
<span class="kw">head</span>(novo)</code></pre>
<pre><code>                  cyl disp  hp drat
Mazda RX4           6  160 110 3.90
Mazda RX4 Wag       6  160 110 3.90
Datsun 710          4  108  93 3.85
Hornet 4 Drive      6  258 110 3.08
Hornet Sportabout   8  360 175 3.15
Valiant             6  225 105 2.76</code></pre>
</div>
<div id="funcao-filter" class="section level4">
<h4><span class="header-section-number">1.13.2.2</span> Função <em>filter</em></h4>
<p>A Função <code>filter()</code> seleciona as variáveis da base de dados conforme atributos determinados pelo pesquisador:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">filter</span>(mtcars, hp<span class="op">&gt;</span><span class="dv">146</span>)
<span class="kw">head</span>(novo)</code></pre>
<pre><code>   mpg cyl  disp  hp drat   wt  qsec vs am gear carb
1 18.7   8 360.0 175 3.15 3.44 17.02  0  0    3    2
2 14.3   8 360.0 245 3.21 3.57 15.84  0  0    3    4
3 16.4   8 275.8 180 3.07 4.07 17.40  0  0    3    3
4 17.3   8 275.8 180 3.07 3.73 17.60  0  0    3    3
5 15.2   8 275.8 180 3.07 3.78 18.00  0  0    3    3
6 10.4   8 472.0 205 2.93 5.25 17.98  0  0    3    4</code></pre>
<p>Abaixo o exemplo da utilização de mais de um critério de filtragem de dados:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">filter</span>(mtcars, hp<span class="op">&gt;</span><span class="dv">146</span> <span class="op">&amp;</span><span class="st"> </span>am<span class="op">==</span><span class="dv">1</span>)
<span class="kw">head</span>(novo)</code></pre>
<pre><code>   mpg cyl disp  hp drat   wt qsec vs am gear carb
1 15.8   8  351 264 4.22 3.17 14.5  0  1    5    4
2 19.7   6  145 175 3.62 2.77 15.5  0  1    5    6
3 15.0   8  301 335 3.54 3.57 14.6  0  1    5    8</code></pre>
</div>
<div id="funcao-mutate" class="section level4">
<h4><span class="header-section-number">1.13.2.3</span> Função <em>mutate</em></h4>
<p>A função <code>mutate()</code> é utilizada para incluir informações ou variáveis na base de dados, como no exemplo abaixo a criação de uma nova variável denominada “novacol”, multiplicando por 100 a variável “mpg” que já consta na base:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">mutate</span>(mtcars, <span class="dt">novacol=</span>(mpg<span class="op">*</span><span class="dv">100</span>))
<span class="kw">head</span>(novo)</code></pre>
<pre><code>   mpg cyl disp  hp drat    wt  qsec vs am gear carb novacol
1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4    2100
2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4    2100
3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1    2280
4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1    2140
5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2    1870
6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1    1810</code></pre>
</div>
<div id="funcao-summarise" class="section level4">
<h4><span class="header-section-number">1.13.2.4</span> Função <em>summarise</em></h4>
<p>A função <code>summarise()</code> é uma poderosa ferrarmenta para agregar sumarizações unindo diversos cálculos ao longo de uma base de dados:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summarise</span>(mtcars, 
          <span class="dt">media.hp=</span><span class="kw">mean</span>(hp), 
          <span class="dt">qtd.hp=</span><span class="kw">length</span>(hp),
          <span class="dt">qtdunico.hp=</span><span class="kw">length</span>(<span class="kw">unique</span>(hp)))</code></pre>
<pre><code>  media.hp qtd.hp qtdunico.hp
1    146.7     32          22</code></pre>
<p>Ainda, é possível agrupar as informações com a função <code>group_by()</code> ao mesmo tempo em que são efetuados cálculos adjacentes. No exemplo abaixo, agrupa-se o valor médio das variáveis “hp” e “wt”, bem como a quantidade de informações de cada variável (função <code>n()</code>), com relação ao agrupamento formado pela variável “cyl”:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summarise</span>(<span class="kw">group_by</span>(mtcars, <span class="dt">cyl.agrup=</span>cyl), 
          <span class="dt">hp.medio=</span><span class="kw">mean</span>(hp), 
          <span class="dt">wt.medio=</span><span class="kw">mean</span>(wt),
          <span class="dt">qtd=</span><span class="kw">n</span>())</code></pre>
<pre><code># A tibble: 3 x 4
  cyl.agrup hp.medio wt.medio   qtd
      &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;
1         4     82.6     2.29    11
2         6    122.      3.12     7
3         8    209.      4.00    14</code></pre>
</div>
<div id="funcao-count" class="section level4">
<h4><span class="header-section-number">1.13.2.5</span> Função <em>count</em></h4>
<p>A função <code>count()</code> é utilizada para sumarizar a contagem de determinados objetos dentro de uma variável do banco de dados:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">count</span>(mtcars, cyl)</code></pre>
<pre><code># A tibble: 3 x 2
    cyl     n
  &lt;dbl&gt; &lt;int&gt;
1     4    11
2     6     7
3     8    14</code></pre>
</div>
<div id="funcao-arrange" class="section level4">
<h4><span class="header-section-number">1.13.2.6</span> Função <em>arrange</em></h4>
<p>A função <code>arrange</code> ordena a base de dados de acordo com o ordenamento da variável escolhida:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">arrange</span>(mtcars, cyl)
<span class="kw">head</span>(novo)</code></pre>
<pre><code>   mpg cyl  disp hp drat    wt  qsec vs am gear carb
1 22.8   4 108.0 93 3.85 2.320 18.61  1  1    4    1
2 24.4   4 146.7 62 3.69 3.190 20.00  1  0    4    2
3 22.8   4 140.8 95 3.92 3.150 22.90  1  0    4    2
4 32.4   4  78.7 66 4.08 2.200 19.47  1  1    4    1
5 30.4   4  75.7 52 4.93 1.615 18.52  1  1    4    2
6 33.9   4  71.1 65 4.22 1.835 19.90  1  1    4    1</code></pre>
<p>Ainda é possível indicar mais de uma variável para este ordenamento, bem como utilizar a função <code>desc()</code> para organizar em ordem descrescente:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo=<span class="kw">arrange</span>(mtcars, mpg, <span class="kw">desc</span>(disp))
<span class="kw">head</span>(novo)</code></pre>
<pre><code>   mpg cyl disp  hp drat    wt  qsec vs am gear carb
1 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4
2 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4
3 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4
4 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4
5 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4
6 15.0   8  301 335 3.54 3.570 14.60  0  1    5    8</code></pre>
</div>
<div id="operador-pipe" class="section level4">
<h4><span class="header-section-number">1.13.2.7</span> Operador <em>pipe</em></h4>
<p>O operador <code>pipe</code> (símbolos <code>%&gt;%</code>) contribui para que a manipulação de dados com o pacote <code>dplyr</code> fiquem mais organizados no código de programação em linguagem R. Abaixo segue um exemplo, onde o objetivo é filtrar os veículos com transmissão manual (am == 1), agrupando-os pela quantidade de cilindros (“cyl”) e em seguida retomando a média das variáveis “drat” e “hp” para cada grupamento:</p>
<pre class="sourceCode r"><code class="sourceCode r">novo =<span class="st"> </span>mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(am <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">disp.drat=</span><span class="kw">mean</span>(drat), 
            <span class="dt">hp.media=</span><span class="kw">mean</span>(hp))

novo</code></pre>
<pre><code># A tibble: 3 x 3
    cyl disp.drat hp.media
  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1     4      4.18     81.9
2     6      3.81    132. 
3     8      3.88    300. </code></pre>
<p>A função <code>starts_with()</code> seleciona as variáveis com base em um critério determinado pelo pesquisador com relação ao nome da variável, no exemplo abaixo, sendo aquelas que iniciam com a leetra “d” (a função inversa é <code>ends_with()</code>):</p>
<pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;d&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span>head</code></pre>
<pre><code>                  disp drat
Mazda RX4          160 3.90
Mazda RX4 Wag      160 3.90
Datsun 710         108 3.85
Hornet 4 Drive     258 3.08
Hornet Sportabout  360 3.15
Valiant            225 2.76</code></pre>
<p>A função <code>contains()</code> também filtra aquelas variáveis com algum critério, neste caso de conter:</p>
<pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;a&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span>head</code></pre>
<pre><code>                  drat am gear carb
Mazda RX4         3.90  1    4    4
Mazda RX4 Wag     3.90  1    4    4
Datsun 710        3.85  1    4    1
Hornet 4 Drive    3.08  0    3    1
Hornet Sportabout 3.15  0    3    2
Valiant           2.76  0    3    1</code></pre>
<p>A função <code>aggregate()</code> também é utilizada para agregação de resultados pelo pacote <code>dplyr</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">aggregate</span>(. <span class="op">~</span><span class="st"> </span>cyl, ., mean)</code></pre>
<pre><code>  cyl   mpg  disp     hp  drat    wt  qsec     vs     am  gear  carb
1   4 26.66 105.1  82.64 4.071 2.286 19.14 0.9091 0.7273 4.091 1.545
2   6 19.74 183.3 122.29 3.586 3.117 17.98 0.5714 0.4286 3.857 3.429
3   8 15.10 353.1 209.21 3.229 3.999 16.77 0.0000 0.1429 3.286 3.500</code></pre>
</div>
</div>
</div>
<div id="funcoes-matematicas" class="section level2">
<h2><span class="header-section-number">1.14</span> Funções Matemáticas</h2>
<p>A utilização de funções matemáticasno RStudio contribui para que o pesquisador possa realizar vários experimentos com seus dados. Os cálculos podem ser efetuados diretamente no console do programa ou aplicados aos objetos criados:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="fl">1.5</span>)</code></pre>
<pre><code>[1] 0.4055</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="dv">1</span>)</code></pre>
<pre><code>[1] 2.718</code></pre>
<p>No caso do <em>data frame</em> o qual foi criado acima (“informacoes”), pode-se buscar as informações dos valores mínimos (função <code>min()</code>), máximos (<code>max()</code>) da base:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 30</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 18</code></pre>
<p>Ainda, se o interesse está em descobrir a posição, no *data frame}, do peso mínimo e máximo da amostra utiliza-se o comando <code>which.min</code> e <code>which.max</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Para descobrir em qual posição se encontra o peso mínimo:</span>
<span class="kw">which.min</span>(informacoes<span class="op">$</span>peso)</code></pre>
<pre><code>[1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which.max</span>(informacoes<span class="op">$</span>peso)</code></pre>
<pre><code>[1] 2</code></pre>
<p>Para descobrir qual é o estutande que possui o peso mínimo, por exemplo, ou o Imc máximo, utiliza-se o seguinte comando (notem que os resultados trazem a lista de todos os estudantes comparados):</p>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>estudantes[<span class="kw">which.min</span>(informacoes<span class="op">$</span>peso)]</code></pre>
<pre><code>[1] Francisco
Levels: Camila Guilherme Marcelo Pedro Francisco</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">informacoes<span class="op">$</span>estudantes[<span class="kw">which.max</span>(informacoes<span class="op">$</span>Imc)]</code></pre>
<pre><code>[1] Guilherme
Levels: Camila Guilherme Marcelo Pedro Francisco</code></pre>
<p>O arredondamento de valores numéricos pode ser feito utilizando o comando <code>round()</code>, o qual o pesquisador informa o número de casas decimais:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Arredondar para n casas decimais</span>
<span class="kw">round</span>(informacoes<span class="op">$</span>Imc, <span class="dv">2</span>)</code></pre>
<pre><code>[1] 20.06 44.44 22.16 26.09 23.34</code></pre>
<p>Já o comando <code>signif()</code> determina o número de algarismos significativos da série escolhida, ou seja, ele arredonda para os valores em seu primeiro argumento com os número de dígitos detemrinados:</p>
<pre class="sourceCode r"><code class="sourceCode r">x2 &lt;-<span class="st"> </span>pi <span class="op">*</span><span class="st"> </span><span class="dv">100</span><span class="op">^</span>(<span class="op">-</span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)
<span class="kw">round</span>(x2, <span class="dv">3</span>)</code></pre>
<pre><code>[1] 3.100e-02 3.142e+00 3.142e+02 3.142e+04 3.142e+06</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">signif</span>(x2, <span class="dv">3</span>) </code></pre>
<pre><code>[1] 3.14e-02 3.14e+00 3.14e+02 3.14e+04 3.14e+06</code></pre>
<p>A soma do total da coluna idade, o desvio padrão, a variância, a média aritmética e mediana podem ser encontrados, respectivamente, pelos comandos <code>sum()</code>, <code>sd()</code>, <code>var()</code>, <code>mean()</code>, <code>median()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Realiza a somatória dos valores</span>
<span class="kw">sum</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 107</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Desvio padrão</span>
<span class="kw">sd</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 4.93</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Variancia</span>
<span class="kw">var</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 24.3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calcula a média aritmética dos valores</span>
<span class="kw">mean</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 21.4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Informa o valor mediano do conjunto</span>
<span class="kw">median</span>(informacoes<span class="op">$</span>idade)</code></pre>
<pre><code>[1] 19</code></pre>
<p>O comando <code>quantile()</code> oferece a possibilidade de obter os quartis dos dados de acordo com as probabilidades estabelecidas pelo pesquisador. No exemplo, explora-se a variável idade:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(informacoes<span class="op">$</span>idade,  <span class="dt">probs =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">50</span>)<span class="op">/</span><span class="dv">100</span>)</code></pre>
<pre><code> 0.5%    1%    2%    5%   10%   50% 
18.02 18.04 18.08 18.20 18.40 19.00 </code></pre>
</div>
<div id="conversao-e-manipulacao-de-datas" class="section level2">
<h2><span class="header-section-number">1.15</span> Conversão e manipulação de datas</h2>
<p>A configuração e padronização dos formato de datas no RStudio podem ser efetuadas pelo pesquisador, primeiramente ao carregar a base de dados no programa e em um segundo momento durante a manipulação das informações. Por padrão o RStudio trabalha com o formato ANO-MÊS-DIA, sendo possível ainda ler e incluir dados de alta frequência como horas, minutos e segundos com utilização de outros pacotes. Assim, seguem alguns dos procedimentos para a correta alteração dos padrões de datas:</p>
<pre class="sourceCode r"><code class="sourceCode r">abertura &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;03/02/69&quot;</span>) <span class="co"># Exemplo de criação de data inicial</span>
fechamento &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2000-20-01&quot;</span>) <span class="co"># Criação de data final</span>
abertura &lt;-<span class="st"> </span><span class="kw">as.Date</span>(abertura, <span class="dt">format =</span> <span class="st">&quot;%d/%m/%y&quot;</span>) <span class="co"># Formatação da data</span>
fechamento &lt;-<span class="st"> </span><span class="kw">as.Date</span>(fechamento, <span class="dt">format =</span> <span class="st">&quot;%Y-%d-%m&quot;</span>) 
<span class="kw">class</span>(abertura) <span class="co"># Verificando a classe do objeto</span></code></pre>
<pre><code>[1] &quot;Date&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(fechamento)</code></pre>
<pre><code>[1] &quot;Date&quot;</code></pre>
<p>É possível efetuar cálculos entre datas como segue:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Diferença de dias dos intervalos informados</span>
dif=abertura<span class="op">-</span>fechamento <span class="co"># Efetua o cálculo da diferença entre as datas</span>
dif</code></pre>
<pre><code>Time difference of -11308 days</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(dif) <span class="co"># Verifica a classe do objeto</span></code></pre>
<pre><code>[1] &quot;difftime&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(dif) <span class="co"># Retoma o valor numérico da diferença</span></code></pre>
<pre><code>[1] -11308</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">units</span>(dif) <span class="co"># Retoma a unidade da diferença entre as datas</span></code></pre>
<pre><code>[1] &quot;days&quot;</code></pre>
<div id="o-pacote-lubridate" class="section level3">
<h3><span class="header-section-number">1.15.1</span> O pacote <em>lubridate</em></h3>
<p>O pacote <code>lubridate</code> é responsável por contribuir de forma eficaz para a manipulação e transformação de variáveis sob o formato de datas e horas. No caso abaixo, os comandos <code>ymd()</code> e <code>mdy()</code> codificam corretamente parao R as datas que anteriormente não estavam neste padrão.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(lubridate)</code></pre>
<pre><code>
Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>The following object is masked from &#39;package:base&#39;:

    date</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ymd</span>(<span class="dv">20190215</span>)</code></pre>
<pre><code>[1] &quot;2019-02-15&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mdy</span>(<span class="st">&quot;2/15/19&quot;</span>)</code></pre>
<pre><code>[1] &quot;2019-02-15&quot;</code></pre>
<p>Para o exemplo posterior para a manipulação de datas, foi criado um objeto denominado “data” com as variáveis data, quant e valor, representando a quantidade e valor de vendas em determinados dias do ano:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criando uma base de dados</span>
data=<span class="kw">data.frame</span>(<span class="dt">data=</span><span class="kw">c</span>(<span class="st">&quot;01/01/2018&quot;</span>,<span class="st">&quot;02/02/2019&quot;</span>,
                       <span class="st">&quot;02/02/2019&quot;</span>,<span class="st">&quot;05/02/2019&quot;</span>,<span class="st">&quot;06/02/2019&quot;</span>),
                <span class="dt">quant=</span><span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">300</span>),
                <span class="dt">valor=</span><span class="kw">c</span>(<span class="fl">550.00</span>,<span class="fl">600.00</span>,<span class="fl">100.00</span>,<span class="fl">150.00</span>,<span class="fl">250.00</span>))
<span class="kw">head</span>(data)</code></pre>
<pre><code>        data quant valor
1 01/01/2018   100   550
2 02/02/2019   200   600
3 02/02/2019   100   100
4 05/02/2019   150   150
5 06/02/2019   300   250</code></pre>
<p>Em primeiro lugar é efetuada a normalização da variável data:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Configurando a variável data</span>
data<span class="op">$</span>data=<span class="kw">dmy</span>(data<span class="op">$</span>data)</code></pre>
<p>Depois, são criadas novas variáveis representando o ano, mês, dia e dia da semana de cada venda realizada, incrementando o poder de análise dos objetos:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criando uma nova variável do ano da venda</span>
data<span class="op">$</span>ano=<span class="kw">year</span>(data<span class="op">$</span>data)
data</code></pre>
<pre><code>        data quant valor  ano
1 2018-01-01   100   550 2018
2 2019-02-02   200   600 2019
3 2019-02-02   100   100 2019
4 2019-02-05   150   150 2019
5 2019-02-06   300   250 2019</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criando uma nova variável do mês da venda</span>
data<span class="op">$</span>mes=<span class="kw">month</span>(data<span class="op">$</span>data)
data</code></pre>
<pre><code>        data quant valor  ano mes
1 2018-01-01   100   550 2018   1
2 2019-02-02   200   600 2019   2
3 2019-02-02   100   100 2019   2
4 2019-02-05   150   150 2019   2
5 2019-02-06   300   250 2019   2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criando nova variável do dia da venda</span>
data<span class="op">$</span>dia=<span class="kw">day</span>(data<span class="op">$</span>data)
data</code></pre>
<pre><code>        data quant valor  ano mes dia
1 2018-01-01   100   550 2018   1   1
2 2019-02-02   200   600 2019   2   2
3 2019-02-02   100   100 2019   2   2
4 2019-02-05   150   150 2019   2   5
5 2019-02-06   300   250 2019   2   6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Criando nova variável do dia da semana da venda</span>
data<span class="op">$</span>diasem=<span class="kw">wday</span>(data<span class="op">$</span>data, <span class="dt">label=</span><span class="ot">TRUE</span>)
data</code></pre>
<pre><code>        data quant valor  ano mes dia diasem
1 2018-01-01   100   550 2018   1   1    seg
2 2019-02-02   200   600 2019   2   2    sáb
3 2019-02-02   100   100 2019   2   2    sáb
4 2019-02-05   150   150 2019   2   5    ter
5 2019-02-06   300   250 2019   2   6    qua</code></pre>
<p>Com isso é possível realizar várias análises após a normalização das datas e extração de demais informações, como a sumarização de vendas por exemplo:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Valor das vendas por mês</span>
<span class="kw">aggregate</span>(data<span class="op">$</span>valor, <span class="kw">list</span>(<span class="dt">Var =</span> data<span class="op">$</span>mes), sum)</code></pre>
<pre><code>  Var    x
1   1  550
2   2 1100</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Quantidade de vendas por mês</span>
<span class="kw">aggregate</span>(data<span class="op">$</span>quant, <span class="kw">list</span>(<span class="dt">Var =</span> data<span class="op">$</span>mes), sum)</code></pre>
<pre><code>  Var   x
1   1 100
2   2 750</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Valor das vendas por mês e dia da semana </span>
<span class="kw">aggregate</span>(valor <span class="op">~</span><span class="st"> </span>mes <span class="op">+</span><span class="st"> </span>diasem, <span class="dt">data =</span> data, sum)</code></pre>
<pre><code>  mes diasem valor
1   1    seg   550
2   2    ter   150
3   2    qua   250
4   2    sáb   700</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Utilizando o pacote dplyr</span>
<span class="kw">library</span>(dplyr)

data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(diasem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">total =</span> <span class="kw">sum</span>(valor))</code></pre>
<pre><code># A tibble: 4 x 2
  diasem total
  &lt;ord&gt;  &lt;dbl&gt;
1 seg      550
2 ter      150
3 qua      250
4 sáb      700</code></pre>
</div>
</div>
<div id="exercicios" class="section level2">
<h2><span class="header-section-number">1.16</span> Exercícios</h2>
<p><strong>1.</strong> Baixe o arquivo “arvores” que se encontra no endereço <a href="https://smolski.github.io/softwarelivrer/livro.html" class="uri">https://smolski.github.io/softwarelivrer/livro.html</a>. Este é um banco de dados com informações cedido pela professora Tatiane Chassot. Abra o arquivo no Rstudio tomando os cuidados necessários (importar no formato correto, prestar atenção nas vírgulas e nomes…). Por meio dos comandos do R, responda as seguintes perguntas, informando o comando utilizado.</p>
<p><strong>1.1.</strong> Qual é a espécie de árvore que possui o maior e menor diâmetro? E quais são estes valores de diâmetro?</p>
<!--
Neste caso, irão utilizar o comando da seguinte forma >Nome_do_banco_de_dados$Nome_da_variável_buscada[which.max(diâmetro_cm)]
-->
<p><strong>1.2.</strong> Qual é a altura média, mínima e média das árvores?</p>
<p><strong>1.3.</strong> Encontre o diâmetro médio para cada espécie de árvores.</p>
<p><strong>1.4.</strong> Com os comandos do R, verifique a quantidade de dados referente as variáveis, bem como o nome referente a cada variável.</p>
<p><strong>1.5.</strong> Renomeie a primeira coluna para “espécie”.</p>
<p><strong>1.6.</strong> Classifique as árvores quanto ao seu porte, em relação à altura, em que:</p>
<p>Pequeno porte = árvores com altura inferior a 10 metros.</p>
<p>Grande porte = árvores com altura superior a 10 metros.</p>
<p><strong>2.</strong> Baixe o arquivo “bancodedados1” que se encontra no endereço <a href="https://smolski.github.io/softwarelivrer/livro.html" class="uri">https://smolski.github.io/softwarelivrer/livro.html</a>. Este é um banco de dados com informações fictícias que serão utilizados a fim de aprendizado. Abra o arquivo no Rstudio tomando os cuidados necessários. Por meio dos comandos do R, responda as seguintes perguntas, informando o comando utilizado.</p>
<p><strong>2.1.</strong> Qual é o vendedor com mais sucesso de vendas? E o vendedor com menor número de vendas?
Qual foi o número total de vendas?</p>
<p><strong>2.3.</strong> Supondo que um vendedor tenha ficado de fora dos dados, insira suas informações no banco de dados que já possuímos.</p>
<ul>
<li>Vendedor = Silvia; Idade = 48; Setor = 2; N de vendas = 45.</li>
</ul>
<p><strong>2.4.</strong> Crie uma nova coluna classificando os vendedores como:</p>
<ul>
<li>vendas <span class="math inline">\(&lt;\)</span> 25 = “Regular” ; 25 <span class="math inline">\(&gt;\)</span> vendas = “Ótimo”</li>
</ul>
<p><strong>2.5</strong> Renomeie a coluna “vendas mensais” para “vendas diárias”.</p>
</div>
</div>
<h3>Referências</h3>
<div id="refs" class="references">
<div id="ref-rcore">
<p>R Core Team. 2019. «R: A Language and Environment for Statistical Computing». Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org">https://www.R-project.org</a>.</p>
</div>
<div id="ref-teamrstudio">
<p>RStudio Team. 2019. «RStudio: Integrated Development Environment for R». Boston, MA.: RStudio, Inc. <a href="http://www.rstudio.com/">http://www.rstudio.com/</a>.</p>
</div>
<div id="ref-brasil2014">
<p>Brasil, Ministério da Saúde / Secretaria de Atenção à Saúde. 2014. <em>Estratégias para o cuidado da pessoa com doença crônica: obesidade</em>. Cadernos de Atenção Básica, n 38. Brasília: Ministério da Saúde. <a href="http://bvsms.saude.gov.br/bvs/publicacoes/estrategias_cuidado_doenca_cronica_obesidade_cab38.pdf">http://bvsms.saude.gov.br/bvs/publicacoes/estrategias_cuidado_doenca_cronica_obesidade_cab38.pdf</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="desc.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": ["livror.pdf", "livror.epub"],
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
